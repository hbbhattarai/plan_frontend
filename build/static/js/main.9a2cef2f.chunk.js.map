{"version":3,"sources":["services/common/http-common.js","services/plan/plan.service.js","services/plan/precinct.service.js","components/admin/precient/PrecientView.js","components/admin/plan/Plans.js","services/plan/plot.service.js","components/admin/plot/PlotView.js","assets/logo.png","components/admin/dashboard/Dashboard.js","components/auth/Login.js","services/auth/auth.service.js","services/plan/activity.service.js","components/admin/plan/Plan.js","components/user/dashboard/Dashboard.js","components/user/precient/PrecientView.js","components/user/plot/PlotView.js","components/user/plan/Plan.js","App.js","index.js"],"names":["axios","create","baseURL","headers","http","get","id","data","post","put","delete","planid","customStyles","content","top","left","right","bottom","marginRight","transform","Dashboard","useState","plan","SetPlans","chartData","setChartData","mapRef","useRef","map","setMap","lon","setX","lat","setY","plot_gid","React","modalViewPlanIsOpen","setViewPlanIsOpen","plandId","useParams","precinct","setPrecinct","description","setPDescription","area","setPArea","closeViewPlanModal","useEffect","selection","planboundaryvectorLayer","VectorTileLayer","source","VectorTileSource","format","MVT","url","tileSize","style","feature","parseInt","x","y","Style","fill","Fill","color","stroke","Stroke","width","precintvectorLayer","text","Text","initialMap","Map","target","current","interactions","defaults","dragPan","mouseWheelZoom","extend","DragPan","condition","event","this","getPointerCount","platformModifierKeyOnly","MouseWheelZoom","layers","TileLayer","XYZSource","projection","LayerGroup","controls","defaultControls","ScaleLine","view","View","zoom","center","olProj","minZoom","maxZoom","selectedCountry","selectionLayer","renderMode","getSource","on","getFeatures","pixel","then","features","length","changed","planService","getById","res","precinctService","getByPlanId","totalArea","i","len","chart","len2","dataChart","toFixed","label","push","getView","setCenter","setZoom","forEachFeatureAtPixel","name","hitTolerance","options","theme","height","type","indexLabel","fontFamily","dataPoints","className","class","href","plan_name","ref","isOpen","onRequestClose","onClick","category","preparation_date","approved_date","base_population","projected_population","period_from","period_till","data_url","xmlns","viewBox","d","report_url","PlanDetailView","plans","setPlans","modalAddPlanIsOpen","setAddPlanIsOpen","SetName","setType","setCategory","dzongkhag_id","setDzongkhag","setPeriodfrom","setPeriodtill","setPPopulation","setBPopulation","setADate","setPDate","datafile","setDataurl","report","setReportUrl","setArea","closeAddPlanModal","getAll","submitAddPlanForm","e","a","preventDefault","FormData","append","status","toast","success","msg","error","scope","item","index","onSubmit","enctype","htmlFor","onChange","value","step","files","plot_id","Home","lon1","setX1","lat1","setY1","params","planId","plan_id","setPlotGid","plotId","setPlot","max_height","setMaxHeight","setPlotId","setback","setSetBack","use","setUse","coverage","setCoverage","plotvectorLayer","placement","textBaseline","font","roadvectorLayer","gid","uses","VectorSource","layer","VectorLayer","addLayer","locateButton","document","createElement","innerHTML","addEventListener","navigator","geolocation","watchPosition","position","coords","longitude","latitude","accuracy","circular","clear","locationFeature","Feature","geometry","Point","setStyle","image","Icon","opacity","crossOrigin","src","accuracyFeature","getProjection","addFeature","alert","message","enableHighAccuracy","addControl","Control","element","submitPlotID","undefined","plotService","getPlotByPlotId","plot","placeholder","focusable","dataprefix","dataicon","role","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","showSidebar","setShowSidebar","chartData2","setChartData2","dzongkhag","dzongkhagsplans","setDzongkhagsPlans","dzongkahgboundaryvectorLayer","attribution","Id","getByDzongkhagId","chart2","dataChart2","pie","dataPointMaxWidth","doughnut","animationEnabled","LogoImage","alt","Login","navigate","useNavigate","email","setEmail","password","setPassword","LoginForm","strokeLinecap","strokeLinejoin","strokeWidth","activities","SetActivity","phase","SetPhase","SetDescription","estd_budget","SetBudget","modalAddIsOpen","setAddIsOpen","closeAddModal","submitActivityForm","console","log","activityService","rows","App","exact","path","PrecientView","ReactDOM","render","Fragment","getElementById"],"mappings":"+YAEeA,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAS,wBACTC,QAAS,CACP,eAAgB,sBC2BL,M,sFA7Bb,WACE,OAAOC,EAAKC,IAAI,wB,qBAGlB,SAAQC,GACN,OAAOF,EAAKC,IAAL,wBAA0BC,M,8BAGnC,SAAiBA,GACf,OAAOF,EAAKC,IAAL,kCAAoCC,M,oBAG7C,SAAOC,GACL,OAAOH,EAAKI,KAAK,mBAAoBD,K,oBAEvC,SAAOD,EAAKC,GACV,OAAOH,EAAKK,IAAL,sBAAwBH,GAAMC,K,oBAGvC,SAAOD,EAAIC,GACT,OAAOH,EAAKK,IAAL,2BAA6BH,GAAMC,K,oBAG5C,SAAOD,GACL,OAAOF,EAAKM,OAAL,2BAAgCJ,Q,MChB5B,M,2FAPb,SAAYK,GACV,OAAOP,EAAKC,IAAL,4BAA8BM,Q,qBCiBnCC,EAAe,CACjBC,QAAS,CACLC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,0BAogBJC,EAhgBG,WAAM,MAEKC,mBAAS,IAFd,mBAEbC,EAFa,KAEPC,EAFO,OAGcF,mBAAS,IAHvB,mBAGbG,EAHa,KAGFC,EAHE,KAKdC,EAASC,mBALK,EAMEN,mBAAS,IANX,mBAMbO,EANa,KAMRC,EANQ,OAOAR,mBAAS,IAPT,mBAObS,EAPa,KAORC,EAPQ,OAQAV,mBAAS,IART,mBAQbW,EARa,KAQRC,EARQ,OASDZ,mBAAS,QAArBa,EATa,sBAU6BC,IAAMd,UAAS,GAV5C,mBAUbe,GAVa,KAUQC,GAVR,KAYdC,GADSC,cACQjC,GAZH,GAeYe,oBAAS,GAfrB,qBAebmB,GAfa,MAeHC,GAfG,SAgBmBpB,oBAAS,GAhB5B,qBAgBbqB,GAhBa,MAgBAC,GAhBA,SAiBKtB,oBAAS,GAjBd,qBAiBbuB,GAjBa,MAiBPC,GAjBO,MAmBpB,SAASC,KACLT,IAAkB,GAEtBU,qBAAU,WACN,IAAIC,EAAY,GACVC,EAA0B,IAAIC,IAAgB,CAChDC,OAAQ,IAAIC,IAAiB,CACzBC,OAAQ,IAAIC,IACZC,IAAI,0DACJC,SAAU,OAGdC,MAAO,SAAqBC,GAExB,GAAIA,EAAQrD,IAAI,aAAesD,SAASrB,IAAU,CAC9C,IAAMsB,EAAIF,EAAQrD,IAAI,KAChBwD,EAAIH,EAAQrD,IAAI,KACtB0B,EAAK6B,GACL3B,EAAK4B,GAGT,OAAIH,EAAQrD,IAAI,aAAesD,SAASrB,IAC7B,IAAIwB,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAO,gBAEXC,OAAQ,IAAIC,IAAO,CACfF,MAAO,MACPG,MAAO,MAMR,IAAIN,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAO,gBAEXC,OAAQ,IAAIC,IAAO,CACfF,MAAO,qBAWrBI,EAAqB,IAAInB,IAAgB,CAC3CC,OAAQ,IAAIC,IAAiB,CACzBC,OAAQ,IAAIC,IACZC,IAAI,sDACJC,SAAU,OAEdC,MAAO,SAAqBC,GACxB,OAAIA,EAAQrD,IAAI,aAAesD,SAASrB,IAC7B,IAAIwB,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAOP,EAAQrD,IAAI,WAEvB6D,OAAQ,IAAIC,IAAO,CACfF,MAAOP,EAAQrD,IAAI,SACnB+D,MAAO,KAEXE,KAAM,IAAIC,IAAK,CACXD,KAAMZ,EAAQrD,IAAI,gBAKnB,IAAIyD,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAO,gBAEXC,OAAQ,IAAIC,IAAO,CACfF,MAAO,qBAWrBO,EAAa,IAAIC,IAAI,CACvBC,OAAQhD,EAAOiD,QACfC,aAAcC,YAAS,CAAEC,SAAS,EAAOC,gBAAgB,IAAQC,OAAO,CACpE,IAAIC,IAAQ,CACRC,UAAW,SAAUC,GACjB,OAAkC,IAA3BC,KAAKC,mBAA2BC,YAAwBH,MAGvE,IAAII,IAAe,CACfL,UAAWI,QAGnBE,OAAQ,CACJ,IAAIC,IAAU,CACVtC,OAAQ,IAAIuC,IAAU,CAClBnC,IAAK,6EACLoC,WAAY,gBAIpB,IAAIC,IAAW,CACXJ,OACI,CAACvC,EAAyBoB,MAGtCwB,SAAUC,cAAkBd,OAAO,CAAC,IAAIe,MACxCC,KAAM,IAAIC,IAAK,CACXC,KAAM,EACNC,OAAQC,IAAkB,CAAC,KAAM,OACjCC,QAAS,EACTC,QAAS,OAIjBzE,EAAO2C,GAEP,IAAM+B,EAAkB,IAAIzC,IAAM,CAC9BI,OAAQ,IAAIC,IAAO,CACfF,MAAO,sBACPG,MAAO,IAEXL,KAAM,IAAIC,IAAK,CACXC,MAAO,0BAGTuC,EAAiB,IAAItD,IAAgB,CACvCtB,IAAK4C,EACLiC,WAAY,SACZtD,OAAQkB,EAAmBqC,YAC3BjD,MAAO,SAAUC,GACb,GAAIA,EAAQrD,IAAI,SAAW2C,EACvB,OAAOuD,KAKnB/B,EAAWmC,GAAG,CAAC,UAAU,SAAUxB,GAC/Bd,EAAmBuC,YAAYzB,EAAM0B,OAAOC,MAAK,SAAUC,GACvD,GAAKA,EAASC,OAAd,CAIA,IAAMtD,EAAUqD,EAAS,GACpBrD,IAMLV,EAAYU,EAAQrD,IAAI,OACxBmG,EAAeS,gBAXXjE,EAAY,WAezB,IAOHD,qBAAU,WAENmE,EAAYC,QAAQ7E,IAASwE,MAAK,SAACM,GAC/B,IAAM7G,EAAO6G,EAAI7G,KAAKe,KACtBC,EAAShB,MAGb8G,EAAgBC,YAAYhF,IAASwE,MAAK,SAACM,GAIvC,IAHA,IAAM7G,EAAO6G,EAAI7G,KAEbgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE7CD,GADgB5D,SAASpD,EAAKiH,GAAG5E,MAIrC,IADA,IAAI8E,EAAQ,GACH7D,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CAC/C,IAAI+D,EAAY,CAAE/D,GAAMF,SAASpD,EAAKsD,GAAGjB,MAAQ2E,EAAa,KAAKM,QAAQ,GAAKC,MAAOvH,EAAKsD,GAAGrB,UAC/FkF,EAAMK,KAAKH,GAEfnG,EAAaiG,QAGlB,IAEH3E,qBAAU,WACFjB,GAAOE,IACPJ,EAAIoG,UAAUC,UAAU7B,IAAkB,CAACtE,EAAKE,KAChDJ,EAAIoG,UAAUE,QAAQ,IACtBtG,EAAI+E,GAAG,eAAe,SAAUxB,GAC5BvD,EAAIuG,sBACAhD,EAAM0B,OACN,SAAUnD,GACN,GAA6B,cAAzBA,EAAQrD,IAAI,UACRqD,EAAQrD,IAAI,aAAesD,SAASrB,IAAU,CAC9CD,IAAkB,GAClB,IAAM+F,EAAO1E,EAAQrD,IAAI,YACzBoC,GAAY2F,GACZ,IAAM1F,EAAcgB,EAAQrD,IAAI,WAChCsC,GAAgBD,GAChB,IAAME,EAAOc,EAAQrD,IAAI,QAAQwH,QAAQ,GACzChF,GAASD,MAMrB,CACIyF,aAAc,WASlC,IAAMC,GAAU,CACZC,MAAO,SACPC,OAAQ,IACRjI,KAAM,CAAC,CACHkI,KAAM,MACNC,WAAW,UACXC,WAAY,aACZC,WAAYpH,KAKpB,OACI,sBAAKqH,UAAU,uDAAf,UACI,qBAAKC,MAAM,yCAAX,SACI,mBAAGC,KAAI,8BAAyBzH,EAAKhB,IAAMwI,MAAM,yEAAjD,SACI,sBAAMA,MAAM,sBAAZ,SAAmCxH,EAAK0H,gBAIhD,sBAAKH,UAAU,0EAAf,UAKI,qBAAKA,UAAU,+DAAf,SACI,sBAAKA,UAAU,yEAAf,UACI,qBAAKI,IAAKvH,EAAQmH,UAAU,wBAA5B,eACA,cAAC,IAAD,CACIK,OAAQ9G,GACR+G,eAAgBrG,GAChBW,MAAO7C,EAHX,SAKI,qBAAKiI,UAAU,mCAAf,SACI,sBAAKA,UAAU,oBAAf,UAEI,qBAAKC,MAAM,SAAX,SACI,qBAAID,UAAU,eAAd,yBACI,sBAAMA,UAAU,0FAAhB,SAA0G,wBAAQO,QAAStG,GAAjB,sBAIlH,sBAAK+F,UAAU,qGAAf,UAEI,qBAAKA,UAAU,iBAAf,SACI,qBAAIA,UAAU,gCAAd,cAAgDrG,GAAhD,SAEJ,qBAAKqG,UAAU,iBAAf,SACI,oBAAGA,UAAU,MAAb,UAAmB,wBAAQA,UAAU,YAAlB,6BAAnB,KAA4EnG,GAA5E,SAEJ,qBAAKmG,UAAU,iBAAf,SACI,oBAAGA,UAAU,MAAb,UAAmB,wBAAQA,UAAU,YAAlB,mBAAnB,KAAkEjG,GAAlE,+BAU5B,sBAAKiG,UAAU,kEAAf,UACI,oBAAIA,UAAU,yCAAd,0BACI,qBAAKA,UAAU,0CAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,+DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,gDAA7B,IAA2DvH,EAAK+H,qBAMhF,qBAAKR,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4CAA7B,IAAuDvH,EAAKmH,iBAM5E,qBAAKI,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKgI,6BAMnF,qBAAKT,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKiI,0BAMnF,qBAAKV,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,oDAA7B,IAA+DvH,EAAKsB,iBAMpF,qBAAKiG,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,uDAA7B,IAAkEvH,EAAKkI,4BAMvF,qBAAKX,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4DAA7B,IAAuEvH,EAAKmI,iCAM5F,qBAAKZ,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,8CAA7B,IAAyDvH,EAAKoI,YAA9D,MAA8EpI,EAAKqI,6BAQ3G,qBAAKd,UAAU,sDAAf,SACI,qBAAKA,UAAU,8BAAf,SACI,cAAC,IAAD,CAAeP,QAASA,SAGhC,sBAAKO,UAAU,oCAAf,UACI,oBAAIA,UAAU,yCAAd,gCACA,sBAAKA,UAAU,8CAAf,UACI,oBACIE,KAAI,oCAA+BzH,EAAKsI,UACxCf,UAAU,yGAFd,UAII,wCAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,oCAA+BzH,EAAK0I,YACxCnB,UAAU,sHAFd,UAII,0CAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,2BAAsBzH,EAAKhB,GAA3B,YAAiC4B,GACrC2G,UAAU,sHAFd,UAII,4CAEA,qBAAKA,UAAU,WAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8I,iCC3gB5CnJ,EAAe,CACjBC,QAAS,CACLC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,0BAsjBJ8I,EAjjBQ,WAAO,IAAD,EACC5I,mBAAS,IADV,mBAClB6I,EADkB,KACXC,EADW,OAEsBhI,IAAMd,UAAS,GAFrC,mBAElB+I,EAFkB,KAEEC,EAFF,OAKIhJ,mBAAS,IALb,mBAKlB2H,EALkB,KAKPsB,EALO,OAMDjJ,mBAAS,IANR,mBAMlBoH,EANkB,KAMZ8B,EANY,OAOOlJ,mBAAS,IAPhB,mBAOlBgI,EAPkB,KAORmB,EAPQ,OAQYnJ,mBAAS,IARrB,mBAQlBoJ,EARkB,KAQJC,EARI,OASYrJ,mBAAS,IATrB,mBASlBqI,EATkB,KASLiB,EATK,OAUYtJ,mBAAS,IAVrB,mBAUlBsI,EAVkB,KAULiB,EAVK,OAWsBvJ,mBAAS,IAX/B,mBAWlBoI,EAXkB,KAWIoB,EAXJ,OAYiBxJ,mBAAS,IAZ1B,mBAYlBmI,EAZkB,KAYDsB,EAZC,OAaSzJ,mBAAS,IAblB,mBAalBkI,EAbkB,KAaHwB,EAbG,QAcY1J,mBAAS,IAdrB,qBAclBiI,GAdkB,MAcA0B,GAdA,SAeM3J,mBAAS,IAff,qBAelB4J,GAfkB,MAeRC,GAfQ,SAgBM7J,mBAAS,IAhBf,qBAgBlB8J,GAhBkB,MAgBVC,GAhBU,SAiBD/J,mBAAS,IAjBR,qBAiBlBuB,GAjBkB,MAiBZyI,GAjBY,MAgCzB,SAASC,KACLjB,GAAiB,GAdrBtH,qBAAU,WAENmE,EAAYqE,SAASzE,MAAK,SAACM,GACvB,IAAM7G,EAAO6G,EAAI7G,KAAK2J,MACtBC,EAAS5J,QAGd,IAuBH,IAqDMiL,GAAiB,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sDACtBD,EAAEE,iBACF,KACUpL,EAAO,IAAIqL,UACZC,OAAO,WAAYZ,IACxB1K,EAAKsL,OAAO,YAAa7C,GACzBzI,EAAKsL,OAAO,OAAQpD,GACpBlI,EAAKsL,OAAO,WAAYxC,GACxB9I,EAAKsL,OAAO,eAAgBpB,GAC5BlK,EAAKsL,OAAO,cAAenC,GAC3BnJ,EAAKsL,OAAO,cAAelC,GAC3BpJ,EAAKsL,OAAO,kBAAmBrC,GAC/BjJ,EAAKsL,OAAO,uBAAwBpC,GACpClJ,EAAKsL,OAAO,mBAAoBvC,IAChC/I,EAAKsL,OAAO,gBAAiBtC,GAC7BhJ,EAAKsL,OAAO,SAAUV,IACtB5K,EAAKsL,OAAO,OAAQjJ,IAEpBsE,EAAYjH,OAAOM,GAAMuG,MAAK,SAACM,GACR,MAAfA,EAAI0E,QACJzB,GAAiB,GACjB0B,QAAMC,QAAQ5E,EAAI7G,KAAK0L,OAGvB5B,GAAiB,GACjB0B,QAAMG,MAAM,mCAGtB,MAAOA,GACL7B,GAAiB,GACjB0B,QAAMG,MAAM,2CA9BM,2CAAH,sDAqCvB,OACI,sBAAKrD,UAAU,mEAAf,UACI,sBAAKA,UAAU,8DAAf,UACI,sBAAKA,UAAU,oDAAf,UACI,oBAAIA,UAAU,wBAAd,6BACA,wBAAQO,QAnHxB,WACIiB,GAAiB,IAmHDxB,UAAU,yHADd,oBAOJ,wBAAOA,UAAU,SAAjB,UACI,gCACI,qBAAIA,UAAU,aAAd,UACI,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,+BAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,kBAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,kBAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,sBAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,8BAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,2BAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,6BAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,kCAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,0BAMA,oBACIsD,MAAM,MACNtD,UAAU,yEAFd,0BAQPqB,GACG,uBAAOrB,UAAU,2BAAjB,SACKqB,EAAMtI,KAAI,SAACwK,EAAMC,GACd,OACI,+BACI,qBACIxD,UAAU,sDADd,UAGKwD,EAAQ,EAHb,MAGmBD,EAAK9L,GAHxB,OAKA,oBACIuI,UAAU,sDADd,SAGKuD,EAAKpD,YAEV,oBACIH,UAAU,sDADd,SAGKuD,EAAK3D,OAEV,oBACII,UAAU,sDADd,SAGKuD,EAAK/C,WAEV,oBACIR,UAAU,sDADd,SAGKuD,EAAK9C,mBAEV,oBACIT,UAAU,sDADd,SAGKuD,EAAK7C,gBAEV,oBACIV,UAAU,sDADd,SAGKuD,EAAK5C,kBAEV,oBACIX,UAAU,sDADd,SAGKuD,EAAK3C,uBAEV,oBACIZ,UAAU,sDADd,SAGKuD,EAAKxJ,OAEV,oBAAIiG,UAAU,iEAAd,SAEI,yBAAQO,QAAS,kBAxOrC9I,EAwOsD8L,EAAK9L,QAvO3E4G,EAAYxG,OAAOJ,GAAIwG,MAAK,SAACM,GACN,MAAfA,EAAI0E,OACJC,QAAMC,QAAQ5E,EAAI7G,KAAK0L,KAEvBF,QAAMG,MAAM9E,EAAI7G,KAAK0L,QALjC,IAAoB3L,GAwOgEuI,UAAU,yGAAtD,mBAEI,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,kIA1DjBsC,cA8EjC,cAAC,IAAD,CACInD,OAAQkB,EACRjB,eAAgBmC,GAChB7H,MAAO7C,EAHX,SAKI,qBAAKiI,UAAU,2CAAf,SACI,sBAAKA,UAAU,wDAAf,UACI,qBAAKA,UAAU,SAAf,SACI,qBAAIA,UAAU,0BAAd,0BACI,sBAAMA,UAAU,6EAAhB,SACI,wBAAQO,QAASkC,GAAjB,sBAIZ,qBAAKzC,UAAU,gGAAf,SAEI,sBAAMyD,SAAUd,GAAmBe,QAAQ,sBAA3C,SACI,sBAAK1D,UAAU,sBAAf,UACI,qBAAKA,UAAU,aAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,OACR3D,UAAU,kCAFd,uBAMA,uBACIJ,KAAK,OACLgE,SArRzB,SAAChB,GAChBnB,EAAQmB,EAAE/G,OAAOgI,QAqRuBA,MAAO1D,EACPH,UAAU,uLAItB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,mBACR3D,UAAU,kCAFd,8BAMA,uBACIJ,KAAK,OACLgE,SAhRxB,SAAChB,GACjBT,GAASS,EAAE/G,OAAOgI,QAgRsBA,MAAOpD,GACPT,UAAU,uLAItB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,gBACR3D,UAAU,kCAFd,2BAMA,uBACIJ,KAAK,OACLgE,SApSxB,SAAChB,GACjBV,EAASU,EAAE/G,OAAOgI,QAoSsBA,MAAOnD,EACPV,UAAU,uLAItB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBAAO2D,QAAQ,eAAe3D,UAAU,kCAAxC,uBAGA,yBACI4D,SArTpB,SAAChB,GACrBf,EAAae,EAAE/G,OAAOgI,QAqTkBA,MAAOjC,EACP5B,UAAU,gLAHd,UAKI,sDACA,wBAAQ6D,MAAM,IAAd,sBACA,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,oBACA,wBAAQA,MAAM,IAAd,kBACA,wBAAQA,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,sBACA,wBAAQA,MAAM,IAAd,oBACA,wBAAQA,MAAM,IAAd,kBACA,wBAAQA,MAAM,IAAd,0BACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,8BACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,wBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,8BACA,wBAAQA,MAAM,KAAd,4BACA,wBAAQA,MAAM,KAAd,8BAKZ,qBAAK7D,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBAAO2D,QAAQ,OAAO3D,UAAU,kCAAhC,kBAGA,yBACI4D,SAjWzB,SAAChB,GAChBlB,EAAQkB,EAAE/G,OAAOgI,QAiWuBA,MAAOjE,EACPI,UAAU,gLAHd,UAKI,iDACA,wBAAQ6D,MAAM,gBAAd,2BACA,wBAAQA,MAAM,0BAAd,qCACA,wBAAQA,MAAM,iBAAd,4BACA,wBAAQA,MAAM,mBAAd,8BACA,wBAAQA,MAAM,kBAAd,qCAIZ,qBAAK7D,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBAAO2D,QAAQ,kBAAkB3D,UAAU,kCAA3C,6BAGA,uBACIJ,KAAK,SACLgE,SA3VlB,SAAChB,GACvBX,EAAeW,EAAE/G,OAAOgI,QA2VgBA,MAAOlD,EACPX,UAAU,uLAItB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,uBACR3D,UAAU,kCAFd,kCAMA,uBACIJ,KAAK,SACLgE,SA/WlB,SAAChB,GACvBZ,EAAeY,EAAE/G,OAAOgI,QA+WgBA,MAAOjD,EACPZ,UAAU,uLAItB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,cACR3D,UAAU,kCAFd,gCAMA,uBACIJ,KAAK,SACLgE,SAvXnB,SAAChB,GACtBd,EAAcc,EAAE/G,OAAOgI,QAuXiBA,MAAOhD,EACPb,UAAU,uLAItB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,cACR3D,UAAU,kCAFd,gCAMA,uBACIJ,KAAK,OACLgE,SAlYnB,SAAChB,GACtBb,EAAca,EAAE/G,OAAOgI,QAkYiBA,MAAO/C,EACPd,UAAU,uLAItB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,OACR3D,UAAU,kCAFd,0BAMA,uBACIJ,KAAK,SACLkE,KAAK,MACLF,SA/YzB,SAAChB,GAChBJ,GAAQI,EAAE/G,OAAOgI,QA+YuBA,MAAO9J,GACPiG,UAAU,uLAKtB,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBAAO2D,QAAQ,WAAW3D,UAAU,kCAApC,sBAGA,yBACI4D,SA/brB,SAAChB,GACpBjB,EAAYiB,EAAE/G,OAAOgI,QA+bmBA,MAAOrD,EACPR,UAAU,gLAHd,UAKI,qDACA,wBAAQ6D,MAAM,kBAAd,6BACA,wBAAQA,MAAM,eAAd,kCAIZ,qBAAK7D,UAAU,aAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,WACR3D,UAAU,kCAFd,yBAMA,uBACIJ,KAAK,OACLgE,SA5atB,SAAChB,GACnBP,GAAWO,EAAE/G,OAAOkI,MAAM,KA4acxE,KAAM6C,GACNpC,UAAU,uLAItB,qBAAKA,UAAU,aAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,SACR3D,UAAU,kCAFd,2BAMA,uBACIJ,KAAK,OACLgE,SAzbpB,SAAChB,GACrBL,GAAaK,EAAE/G,OAAOkI,MAAM,KAybYxE,KAAM+C,GACNtC,UAAU,uLAItB,qBAAKA,UAAU,aAAf,SACI,wBAAQJ,KAAK,SAASI,UAAU,iHAAhC,wC,iBCziBzB,G,OAAA,I,+FANb,SAAgBgE,GACd,OAAOzM,EAAKC,IAAL,wBAA0BwM,Q,mDCsB/BjM,GAAe,CACnBC,QAAS,CACPC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,0BAojBA2L,GA9iBF,WACX,IAAMpL,EAASC,mBADE,EAEKN,mBAAS,IAFd,mBAEVO,EAFU,KAELC,EAFK,OAGGR,mBAAS,IAHZ,mBAGVS,EAHU,KAGLC,EAHK,OAIGV,mBAAS,IAJZ,mBAIVW,EAJU,KAILC,EAJK,OAKKZ,mBAAS,IALd,mBAKV0L,EALU,KAKJC,EALI,OAMK3L,mBAAS,IANd,mBAMV4L,GANU,KAMJC,GANI,KAOXC,GAAS5K,cACT6K,GAASD,GAAOE,QARL,GASchM,mBAAS8L,GAAOjL,UAT9B,qBASVA,GATU,MASAoL,GATA,SAWSjM,mBAAS,IAXlB,qBAWVkM,GAXU,MAWFC,GAXE,SAekBnM,mBAAS,IAf3B,qBAeVoM,GAfU,MAeEC,GAfF,SAgBYrM,mBAAS,IAhBrB,qBAgBVwL,GAhBU,MAgBDc,GAhBC,SAiBatM,mBAAS,IAjBtB,qBAiBVuM,GAjBU,MAiBDC,GAjBC,SAkBKxM,mBAAS,IAlBd,qBAkBVyM,GAlBU,MAkBLC,GAlBK,SAmBe1M,mBAAS,IAnBxB,qBAmBVmB,GAnBU,MAmBAC,GAnBA,MAmB6BpB,mBAAS,IAnBtC,OAoBeA,mBAAS,IApBxB,qBAoBV2M,GApBU,MAoBAC,GApBA,SAqBQ5M,mBAAS,IArBjB,qBAqBVuB,GArBU,MAqBJC,GArBI,SAsBgCV,IAAMd,UAAS,GAtB/C,qBAsBVe,GAtBU,MAsBWC,GAtBX,MAwBjB,SAASS,KACPT,IAAkB,GAGpBU,qBAAU,WAER,IAAIC,EAAY,GACVC,EAA0B,IAAIC,IAAgB,CAClDC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,0DACJC,SAAU,OAGZC,MAAO,SAAqBC,GAC1B,GAAIA,EAAQrD,IAAI,aAAesD,SAASyJ,IAAS,CAC/C,IAAMxJ,EAAIF,EAAQrD,IAAI,KAChBwD,EAAIH,EAAQrD,IAAI,KACtB0B,EAAK6B,GACL3B,EAAK4B,GAEP,OAAIH,EAAQrD,IAAI,aAAesD,SAASyJ,IAC/B,IAAItJ,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,MACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,YAKf,IAAIyD,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAUXiK,EAAkB,IAAIhL,IAAgB,CAC1CC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,kDACJC,SAAU,OAGZC,MAAO,SAAqBC,GAC1B,GAAIA,EAAQrD,IAAI,SAAWsD,SAASzB,IAAW,CAC7C,IAAM0B,EAAIF,EAAQrD,IAAI,KAChBwD,EAAIH,EAAQrD,IAAI,KACtB2M,EAAMpJ,GACNsJ,GAAMrJ,GAER,OAAIH,EAAQrD,IAAI,aAAesD,SAASyJ,IAClC1J,EAAQrD,IAAI,SAAWsD,SAASzB,IAC3B,IAAI4B,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,QAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,QACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,WAClB8N,UAAW,QACXC,aAAc,SACdC,KAAM,2BAKH,IAAIvK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAOP,EAAQrD,IAAI,WAErB6D,OAAQ,IAAIC,IAAO,CACjBF,MAAO,QACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,WAClB8N,UAAW,QACXC,aAAc,aAOb,IAAItK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAUXqK,EAAkB,IAAIpL,IAAgB,CAC1CC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,kDACJC,SAAU,OAGZC,MAAO,SAAqBC,GAC1B,OAAIA,EAAQrD,IAAI,aAAesD,SAASyJ,IAC/B,IAAItJ,IAAM,CACfI,OAAQ,IAAIC,IAAO,CACjBF,MAAO,UACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,QAClB8N,UAAW,OACXC,aAAc,SACdC,KAAM,2BAKH,IAAIvK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAUXO,EAAa,IAAIC,IAAI,CACzBC,OAAQhD,EAAOiD,QACfC,aAAcC,YAAS,CAAEC,SAAS,EAAOC,gBAAgB,IAAQC,OAAO,CACtE,IAAIC,IAAQ,CACVC,UAAW,SAAUC,GACnB,OAAkC,IAA3BC,KAAKC,mBAA2BC,YAAwBH,MAGnE,IAAII,IAAe,CACjBL,UAAWI,QAGfE,OAAQ,CACN,IAAIC,IAAU,CACZtC,OAAQ,IAAIuC,IAAU,CACpBnC,IAAK,6EACLoC,WAAY,gBAGhB,IAAIC,IAAW,CACbJ,OAAQ,CAACvC,KAGX,IAAI2C,IAAW,CACbJ,OAAQ,CAAC0I,KAEX,IAAItI,IAAW,CACbJ,OAAQ,CAAC8I,MAGbzI,SAAUC,cAAkBd,OAAO,CAAC,IAAIe,MACxCC,KAAM,IAAIC,IAAK,CACbC,KAAM,EACNC,OAAQC,IAAkB,CAAC,KAAM,QACjCC,QAAS,EACTC,QAAS,OAIbzE,EAAO2C,GAEP,IAAM+B,EAAkB,IAAIzC,IAAM,CAChCI,OAAQ,IAAIC,IAAO,CACjBF,MAAO,sBACPG,MAAO,IAETL,KAAM,IAAIC,IAAK,CACbC,MAAO,0BAGLuC,EAAiB,IAAItD,IAAgB,CACzCtB,IAAK4C,EACLiC,WAAY,SACZtD,OAAQ+K,EAAgBxH,YACxBjD,MAAO,SAAUC,GACf,GAAIA,EAAQrD,IAAI,SAAW2C,EACzB,OAAOuD,KAKb/B,EAAWmC,GAAG,CAAC,UAAU,SAAUxB,GACjC+I,EAAgBtH,YAAYzB,EAAM0B,OAAOC,MAAK,SAAUC,GACtD,GAAKA,EAASC,OAAd,CAIA,IAAMtD,EAAUqD,EAAS,GACpBrD,IAMLV,EAAYU,EAAQrD,IAAI,OACxBmG,EAAeS,gBAXbjE,EAAY,WAgBjB,IACHD,qBAAU,WACR,GAAIjB,GAAOE,EAAK,CACdJ,EAAIoG,UAAUC,UAAU7B,IAAkB,CAACtE,EAAKE,KAChDJ,EAAIoG,UAAUE,QAAQ,IAClB+E,IAAQF,IACVnL,EAAIoG,UAAUC,UAAU7B,IAAkB,CAAC2G,EAAME,MACjDrL,EAAIoG,UAAUE,QAAQ,KAExBtG,EAAI+E,GAAG,eAAe,SAAUxB,GAC9BvD,EAAIuG,sBACFhD,EAAM0B,OACN,SAAUnD,GACR,GAA6B,UAAzBA,EAAQrD,IAAI,UACVqD,EAAQrD,IAAI,aAAesD,SAASyJ,IAAS,CAC/C/K,IAAkB,GAClB,IAAMkM,EAAM7K,EAAQrD,IAAI,OACxBiN,GAAWiB,GACX,IAAM1B,EAAUnJ,EAAQrD,IAAI,WAC5BsN,GAAUd,GACV,IAAMY,EAAa/J,EAAQrD,IAAI,cAC/BqN,GAAaD,GACb,IAAMjL,EAAWkB,EAAQrD,IAAI,YAC7BoC,GAAYD,GACZ,IAAMwL,EAAWtK,EAAQrD,IAAI,YAC7B4N,GAAYD,GACZ,IAAMJ,EAAUlK,EAAQrD,IAAI,WAC5BwN,GAAWD,GACX,IAAMY,EAAO9K,EAAQrD,IAAI,OACzB0N,GAAOS,GACP,IAAM5L,EAAOc,EAAQrD,IAAI,QACzBwC,GAASD,MAIf,CACEyF,aAAc,OAKpB,IAAMlF,EAAS,IAAIsL,IACbC,EAAQ,IAAIC,IAAY,CAC5BxL,OAAQA,IAEVvB,EAAIgN,SAASF,GACb,IAAMG,EAAeC,SAASC,cAAc,OAC5CF,EAAahG,UAAY,wEACzBgG,EAAaG,UAAY,0BACzBH,EAAaI,iBAAiB,SAAS,WACrCC,UAAUC,YAAYC,eACpB,SAAUC,GACR,IAAMC,EAAS,CAACD,EAASC,OAAOC,UAAWF,EAASC,OAAOE,UAC3D5N,EAAIoG,UAAUC,UAAU7B,IAAkB,CAACiJ,EAASC,OAAOC,UAAWF,EAASC,OAAOE,YACtF5N,EAAIoG,UAAUE,QAAQ,IACtB,IAAMuH,EAAWC,YAASJ,EAAQD,EAASC,OAAOG,UAClDtM,EAAOwM,OAAM,GACb,IAAMC,EAAkB,IAAIC,IAAQ,CAAEC,SAAU,IAAIC,KAAM3J,IAAkBkJ,MAC5EM,EAAgBI,SAAS,IAAIlM,IAAM,CACjCmM,MAAO,IAAIC,IAAK,CACdjM,MAAO,OACPkM,QAAS,MACTC,YAAa,YACbC,IAAK,8DAGT,IAAMC,EAAkB,IAAIT,IAAQJ,EAAStO,UAAU,YAAaS,EAAIoG,UAAUuI,kBAClFpN,EAAOqN,WAAWF,GAClBnN,EAAOqN,WAAWZ,MAEpB,SAAU1D,GACRuE,MAAM,UAAD,OAAWvE,EAAMwE,QAAjB,QAEP,CACEC,oBAAoB,OAI1B/O,EAAIgP,WACF,IAAIC,IAAQ,CACVC,QAASjC,SAMjB,IAIMkC,GAAY,uCAAG,WAAOtF,GAAP,SAAAC,EAAA,sDACnBD,EAAEE,iBACF,SACiBqF,IAAXzD,GACF0D,EAAYC,gBAAgB3D,IAAQzG,MAAK,SAACM,GACxC,IAAM+J,EAAO/J,EAAI7G,KACb4Q,EAAK9D,SAAWD,IAClB/K,IAAkB,GAClBsL,GAAUwD,EAAKtE,SACfS,GAAW6D,EAAK5C,KAChBb,GAAayD,EAAK1D,aAElB1B,QAAMG,MAAM,wBAIhBH,QAAMG,MAAM,wBAGd,SACAH,QAAMG,MAAM,iCApBK,2CAAH,sDA0BlB,OACE,qCACE,qBAAKrD,UAAU,oDAAf,SACE,sBAAKA,UAAU,6EAAf,UACE,qBAAKA,UAAU,wEAAf,SACE,sBAAKA,UAAU,yEAAf,UACE,qBAAKI,IAAKvH,EAAQmH,UAAU,0BAA5B,eAEA,cAAC,IAAD,CACEK,OAAQ9G,GACR+G,eAAgBrG,GAChBW,MAAO7C,GAHT,SAKE,qBAAKiI,UAAU,mCAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,qBAAKA,UAAU,SAAf,SACE,qBAAIA,UAAU,eAAd,qBACE,sBAAMA,UAAU,0FAAhB,SACE,wBAAQO,QAAStG,GAAjB,sBAIN,sBAAK+F,UAAU,qGAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoDgE,eAM5D,qBAAKhE,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+DAAxB,IAAoE4E,eAK5E,qBAAK5E,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoDmF,eAK5D,qBAAKnF,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoD+E,eAK5D,qBAAK/E,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,6CAAxB,IAAkDiF,eAK1D,qBAAKjF,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoDrG,eAK5D,qBAAKqG,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,2CAAxB,IAAgDjG,GAAhD,qBAKR,qBAAKiG,UAAU,kDAAf,SACE,oBACEE,KAAI,2BAAsBqE,GAAtB,YAAgClL,IACpC2G,UAAU,8GAFZ,UAIE,gDAEA,qBAAKA,UAAU,UAAf,SACE,qBACEgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHP,SAKE,sBAEEgG,EAAE,+IAcxB,qBAAKjB,MAAM,6BAAX,SACE,qBAAKD,UAAU,kCAAf,SACE,sBAAMyD,SAAUyE,GAAclI,UAAU,gCAAxC,SACE,sBAAKA,UAAU,gBAAf,UACE,uBAAOJ,KAAK,OAAOgE,SAzLd,SAAChB,GACpB+B,GAAQ/B,EAAE/G,OAAOgI,QAwLwCA,MAAOa,GAAQ1E,UAAU,sOAAsOuI,YAAY,yBACtT,wBAAQ3I,KAAK,SAASI,UAAU,kTAAhC,SACE,qBAAKwI,UAAU,QAAQC,WAAW,MAAMC,SAAS,SAAS1I,UAAU,oBAAoB2I,KAAK,MAAM3H,MAAM,6BAA6BC,QAAQ,cAA9I,SACE,sBAAM/F,KAAK,eAAegG,EAAE,gXAW5C,cAAC,iBAAD,CAAgB0H,UAAW,IACzBpC,SAAS,aACTqC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,QC/kBL,OAA0B,iCCsX1BlF,GAjWF,WACX,IAAMpL,EAASC,iBAAO,IADL,EAEqBN,oBAAS,GAF9B,mBAEV4Q,EAFU,KAEGC,EAFH,OAIiB7Q,mBAAS,IAJ1B,mBAIVG,EAJU,KAICC,EAJD,OAKmBJ,mBAAS,IAL5B,mBAKV8Q,EALU,KAKEC,EALF,OAMK/Q,qBANL,mBAMVO,EANU,KAMLC,EANK,OAOiBR,mBAAS,IAP1B,mBAOVgR,EAPU,KAOC3H,EAPD,OAQ6BrJ,mBAAS,IARtC,mBAQViR,EARU,KAQOC,EARP,OASSlR,mBAAS,IATlB,mBASV6I,EATU,KASHC,EATG,KAUjBpH,qBAAU,WACR,IAAIC,EAAY,GACVwP,EAA+B,IAAItP,IAAgB,CACvDC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,iEAENE,MAAO,SAAqBC,GAC1B,MAA8B,yBAA1BA,EAAQrD,IAAI,UACP,IAAIyD,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAOP,EAAQrD,IAAI,WAErB6D,OAAQ,IAAIC,IAAO,CACjBF,MAAO,QACPG,MAAO,QAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,QAClB8N,UAAW,YAIR,IAAIrK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAaXO,EAAa,IAAIC,IAAI,CACzBC,OAAQhD,EAAOiD,QACfC,aAAcC,YAAS,CAAEC,SAAS,EAAOC,gBAAgB,IAAQC,OAAO,CACtE,IAAIC,IAAQ,CACVC,UAAW,SAAUC,GACnB,OAAkC,IAA3BC,KAAKC,mBAA2BC,YAAwBH,MAGnE,IAAII,IAAe,CACjBL,UAAWI,QAGfE,OAAQ,CACN,IAAIC,IAAU,CACZtC,OAAQ,IAAIuC,IAAU,CACpBnC,IAAK,6EACLoC,WAAY,YACZ8M,YAAY,qCAIhB,IAAI7M,IAAW,CACbJ,OAAQ,CAACgN,MAGb3M,SAAUC,cACVE,KAAM,IAAIC,IAAK,CACbC,KAAM,EACNC,OAAQC,IAAkB,CAAC,KAAM,QACjCC,QAAS,EACTC,QAAS,OAGbzE,EAAO2C,GAGP,IAAM+B,EAAkB,IAAIzC,IAAM,CAChCI,OAAQ,IAAIC,IAAO,CACjBF,MAAO,sBACPG,MAAO,IAETL,KAAM,IAAIC,IAAK,CACbC,MAAO,0BAGLuC,EAAiB,IAAItD,IAAgB,CACzCtB,IAAK4C,EACLiC,WAAY,SACZtD,OAAQqP,EAA6B9L,YACrCjD,MAAO,SAAUC,GACf,GAAIA,EAAQrD,IAAI,YAAc2C,EAC5B,OAAOuD,KAKb/B,EAAWmC,GAAG,CAAC,UAAU,SAAUxB,GACjCqN,EAA6B5L,YAAYzB,EAAM0B,OAAOC,MAAK,SAAUC,GACnE,GAAKA,EAASC,OAAd,CAIA,IAAMtD,EAAUqD,EAAS,GACpBrD,IAMLV,EAAYU,EAAQrD,IAAI,UACxBmG,EAAeS,gBAXbjE,EAAY,WAcjB,IAIHD,qBAAU,WACRmE,EAAYqE,SAASzE,MAAK,SAACM,GACzB,IAAM7G,EAAO6G,EAAI7G,KAAK2J,MACtBC,EAAS5J,GAGT,IADA,IAAIgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE/CD,GADgBhH,EAAKiH,GAAG5E,KAM1B,IADA,IAAI8E,EAAQ,GACH7D,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CACjD,IAAI+D,EAAY,CAAE/D,GAAMtD,EAAKsD,GAAGjB,KAAO2E,EAAa,KAAKM,QAAQ,GAAKC,MAAOvH,EAAKsD,GAAGmF,WACrFtB,EAAMK,KAAKH,GAEbnG,EAAaiG,QAGd,IAEH3E,qBAAU,WACJnB,GACFA,EAAI+E,GAAG,eAAe,SAAUxB,GAC9BvD,EAAIuG,sBACFhD,EAAM0B,OACN,SAAUnD,GACR,GAA8B,yBAA1BA,EAAQrD,IAAI,UAAsC,CACpD,IAAMqS,EAAKhP,EAAQrD,IAAI,UACjB+H,EAAO1E,EAAQrD,IAAI,QACzBqK,EAAatC,GACTsK,IACFR,GAAe,GACfhL,EAAYyL,iBAAiBD,GAAI5L,MAAK,SAACM,GACrC,IAAM7G,EAAO6G,EAAI7G,KAAK2J,MACtBqI,EAAmBhS,GAEnB,IADA,IAAIgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE/CD,GADgBhH,EAAKiH,GAAG5E,KAI1B,IADA,IAAIgQ,EAAS,GACJ/O,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CACjD,IAAIgP,EAAa,CAAEhP,GAAKtD,EAAKsD,GAAGjB,KAAO2E,EAAa,KAAKM,QAAQ,GAAIC,MAAOvH,EAAKsD,GAAGmF,WACpF4J,EAAO7K,KAAK8K,GAGdT,EAAcQ,UAMtB,CACEvK,aAAc,UAQxB,IAAMyK,EAAM,CACVvK,MAAO,SACPC,OAAQ,IACRuK,kBAAmB,GACnBxS,KAAM,CACJ,CACEkI,KAAM,MACNG,WAAYuJ,KAKZa,EAAW,CACfC,kBAAkB,EAClB1K,MAAO,SACPC,OAAQ,IACRjI,KAAM,CAAC,CACLkI,KAAM,WACNG,WAAYpH,KAKhB,OAEE,qBAAKqH,UAAU,mEAAf,SAGE,sBAAKA,UAAU,8DAAf,UACE,qBAAKA,UAAU,oDAAf,SACE,sBAAKA,UAAU,wBAAf,UACE,qBAAKC,MAAM,6DAAX,SACE,oBAAGC,KAAK,aAAaD,MAAM,+DAA3B,UACE,qBAAKuH,IAAK6C,GAAWrK,UAAU,kBAAkBsK,IAAI,QACrD,sBAAMrK,MAAM,iCAAZ,gDAIJ,qBAAKD,UAAU,4CAAf,SACE,uBAAOC,MAAM,4BAAb,SACGoB,GACC,uBAAOrB,UAAU,4CAAjB,SACGqB,EAAMtI,KAAI,SAACwK,EAAMC,GAChB,OAEE,qBACEvD,MAAM,4FADR,UAGE,qBAAIA,MAAM,kCAAV,UACE,uBAAOA,MAAM,gDAAb,0BACA,oBAAGA,MAAM,mCAAT,eAA+CsD,EAAKpD,gBAItD,qBAAIF,MAAM,kCAAV,UACE,uBAAOA,MAAM,+CAAb,8BACA,oBAAGA,MAAM,mCAAT,cAA8CsD,EAAKxJ,WAGrD,qBAAIkG,MAAM,gCAAV,UACE,uBAAOA,MAAM,8CAAb,6BACA,oBAAGA,MAAM,mCAAT,cAA8CsD,EAAK7C,oBAIrD,oBAAIT,MAAM,oCAAV,SAEE,mBAAGC,KAAI,gBAAWqD,EAAK9L,IAAMuI,UAAU,kIAAvC,sBAtBKwD,YA+BrB,qBAAKxD,UAAU,gDAAf,SACE,mBAAGE,KAAK,mBAAmBF,UAAU,uIAArC,0BAEF,sBAAKA,UAAU,0DAAf,UACE,oBAAIA,UAAU,kCAAd,yCACA,qBAAKA,UAAU,8BAAf,SACE,cAAC,IAAD,CAAeP,QAAS0K,cAMhC,qBAAKnK,UAAU,+DAAf,SACE,sBAAKA,UAAU,yEAAf,UACE,qBAAKI,IAAKvH,EAAQmH,UAAU,wBAA5B,eACA,qBAAKA,UAAWoJ,EAAc,4HAA8H,mBAA5J,SAEGK,GACC,qCACE,qBAAIzJ,UAAU,8BAAd,yBAAyDwJ,EAAzD,gBAEA,qBAAKxJ,UAAU,6BAAf,SACGyJ,EAAgB1Q,KAAI,SAACwK,EAAMC,GAE1B,OACE,qBAAKxD,UAAU,gGAAf,SACE,sBAAiBA,UAAU,0EAA3B,UACE,oBAAIA,UAAU,wBAAd,SACE,mBAAGE,KAAI,8BAAyBqD,EAAK9L,IAArC,SAA6C8L,EAAKpD,cAEpD,sBAAKH,UAAU,4BAAf,UACE,2CAAcuD,EAAK/C,YACnB,uCAAU+C,EAAK3D,WAGjB,qBAAKI,UAAU,qCAAf,SACE,oBACEE,KAAI,8BAAyBqD,EAAK9L,IAClCuI,UAAU,6HAFZ,UAIE,gDAEA,qBAAKA,UAAU,wBAAf,SACE,qBACEgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHP,SAKE,sBAEEgG,EAAE,kIAxBJsC,UAuClB,qBAAKxD,UAAU,uDAAf,SACE,sBAAKA,UAAU,iDAAf,UACE,qBAAIA,UAAU,kCAAd,2BAA+DwJ,EAA/D,+BAEA,qBAAKxJ,UAAU,8BAAf,SACE,cAAC,IAAD,CAAeP,QAASwK,2BC3PjCM,IChGA,I,yFARb,WACE,OAAOhT,EAAKI,KAAK,uB,MDKP,WACZ,IAAI6S,EAAWC,cADG,EAEQjS,qBAFR,mBAEXkS,EAFW,KAEJC,EAFI,OAGcnS,qBAHd,mBAGXoS,EAHW,KAGDC,EAHC,KAcZC,EAAS,uCAAG,WAAOlI,GAAP,SAAAC,EAAA,yDAChBD,EAAEE,sBAEeqF,IAAbyC,QAAoCzC,IAAVuC,EAHd,oBAIA,aAAVA,GAAqC,aAAbE,EAJd,uBAKZ1H,QAAMC,QAAQ,qBALF,kBAMLqH,EAAS,eANJ,OASZtH,QAAMG,MAAM,2CATA,+BAadH,QAAMG,MAAM,kCAbE,4CAAH,sDAiBf,OACE,mCACE,sBAAKrD,UAAU,6EAAf,UAEE,qBAAKA,UAAU,kEAAf,SACE,sBAAKA,UAAU,oGAAf,UACE,sBAAKA,UAAU,4CAAf,UACE,qBAAKwH,IAAK6C,GAAWrK,UAAU,mBAAmBsK,IAAI,QACtD,oBAAItK,UAAU,wBAAd,4CAEF,qBAAKA,UAAU,QAAf,SACE,uBAAMyD,SAAUqH,EAAhB,UACE,qBAAK9K,UAAU,qBAAf,SACE,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,0FAAf,SACE,qBAAKA,UAAU,UAAU9E,KAAK,OAAO6P,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIhK,QAAQ,YAAY5F,OAAO,eAA7H,SACE,sBAAM6F,EAAE,sHAIZ,uBAAOtB,KAAK,QAAQgE,SA9ClB,SAAChB,GACnB+H,EAAS/H,EAAE/G,OAAOgI,QA6CyCA,MAAO6G,EAAO1K,UAAU,8IAA8IuI,YAAY,wBAGjO,qBAAKvI,UAAU,qBAAf,SACE,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,0FAAf,SACE,+BACE,qBAAKA,UAAU,UAAU9E,KAAK,OAAO6P,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIhK,QAAQ,YAAY5F,OAAO,eAA7H,SACE,sBAAM6F,EAAE,+GAKd,uBAAOtB,KAAK,WAAWgE,SAtDlB,SAAChB,GACtBiI,EAAYjI,EAAE/G,OAAOgI,QAqD4CA,MAAO+G,EAAU5K,UAAU,8IAA8IuI,YAAY,kBAI1O,qBAAKvI,UAAU,cAAf,SACE,yBAAQJ,KAAK,SAASI,UAAU,wKAAhC,UACE,sBAAMA,UAAU,iBAAhB,mBACA,+BACE,qBAAKA,UAAU,UAAU9E,KAAK,OAAO6P,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIhK,QAAQ,YAAY5F,OAAO,eAA7H,SACE,sBAAM6F,EAAE,iFASxB,cAAC,iBAAD,CAAgB0H,UAAW,IACzBpC,SAAS,aACTqC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,WEnEP,O,sFA7Bb,WACE,OAAO5R,EAAKC,IAAI,6B,qBAGlB,SAAQC,GACN,OAAOF,EAAKC,IAAL,4BAA8BC,M,yBAGvC,SAAYA,GACV,OAAOF,EAAKC,IAAL,iCAAmCC,M,oBAG5C,SAAOC,GACL,OAAOH,EAAKI,KAAK,uBAAwBD,K,oBAE3C,SAAOD,EAAKC,GACV,OAAOH,EAAKK,IAAL,sBAAwBH,GAAMC,K,oBAGvC,SAAOD,EAAIC,GACT,OAAOH,EAAKK,IAAL,+BAAiCH,GAAMC,K,oBAGhD,SAAOD,GACL,OAAOF,EAAKM,OAAL,+BAAoCJ,Q,MCnBzCM,GAAe,CACjBC,QAAS,CACLC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,0BA+bJC,GA1bG,WAAM,MAEKC,mBAAS,IAFd,mBAEbC,EAFa,KAEPC,EAFO,OAGcF,mBAAS,IAHvB,mBAGb0S,EAHa,KAGDC,EAHC,OAIc3S,mBAAS,IAJvB,mBAIbG,EAJa,KAIFC,EAJE,KAOda,EADSC,cACQjC,GAPH,EAQDe,mBAAS,QAArBa,EARa,sBAUMb,mBAAS,IAVf,mBAUb4S,EAVa,KAUNC,EAVM,OAWkB7S,mBAAS,IAX3B,mBAWbqB,EAXa,KAWAyR,EAXA,OAYa9S,mBAAS,IAZtB,mBAYb+S,EAZa,KAYAC,EAZA,OAemBlS,IAAMd,UAAS,GAflC,mBAebiT,EAfa,KAeGC,EAfH,KAoBpB,SAASC,IACLD,GAAa,GAIjB,IAaME,EAAkB,uCAAG,WAAOhJ,GAAP,eAAAC,EAAA,sDACvBD,EAAEE,iBACF,IACUpL,EAAO,CACT,MAAS0T,EACT,QAAWtQ,SAASrB,GACpB,YAAeI,EACf,YAAe0R,GAGnBM,QAAQC,IAAIpU,GACZqU,GAAgB3U,OAAOM,GAAMuG,MAAK,SAACM,GACZ,MAAfA,EAAI0E,QAGJyI,GAAa,GACbxI,QAAMC,QAAQ5E,EAAI7G,KAAK0L,OAGvBsI,GAAa,GACbxI,QAAMG,MAAM,mCAGtB,MAAOA,GACLqI,GAAa,GACbxI,QAAMG,MAAM,2CAzBO,2CAAH,sDAgCxBnJ,qBAAU,WAENmE,EAAYC,QAAQ7E,GAASwE,MAAK,SAACM,GAC/B,IAAM7G,EAAO6G,EAAI7G,KAAKe,KACtBC,EAAShB,MAIbqU,GAAgBtN,YAAYhF,GAASwE,MAAK,SAACM,GACvC,IAAM7G,EAAO6G,EAAI7G,KAAKwT,WACtBW,QAAQC,IAAIpU,GACZyT,EAAYzT,MAGhB8G,EAAgBC,YAAYhF,GAASwE,MAAK,SAACM,GAIvC,IAHA,IAAM7G,EAAO6G,EAAI7G,KAEbgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE7CD,GADgB5D,SAASpD,EAAKiH,GAAG5E,MAIrC,IADA,IAAI8E,EAAQ,GACH7D,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CAC/C,IAAI+D,EAAY,CAAE/D,GAAMF,SAASpD,EAAKsD,GAAGjB,MAAQ2E,EAAa,KAAKM,QAAQ,GAAKC,MAAOvH,EAAKsD,GAAGrB,UAC/FkF,EAAMK,KAAKH,GAEfnG,EAAaiG,QAGlB,IAGH,IAAMY,EAAU,CACZC,MAAO,SACPC,OAAQ,IACRjI,KAAM,CAAC,CACHkI,KAAM,MACNC,WAAW,UACXC,WAAY,aACZC,WAAYpH,KAKpB,OACI,sBAAKqH,UAAU,uDAAf,UACI,qBAAKC,MAAM,yCAAX,SACI,mBAAGC,KAAI,8BAAyBzH,EAAKhB,IAAMwI,MAAM,wEAAjD,SACI,sBAAMA,MAAM,sBAAZ,SAAmCxH,EAAK0H,gBAIhD,sBAAKH,UAAU,0EAAf,UAKI,qBAAKA,UAAU,+DAAf,SACI,sBAAKA,UAAU,+CAAf,UACI,sBAAKA,UAAU,sEAAf,UACI,oBAAIA,UAAU,uCAAd,yBACA,wBAAQO,QAnHhC,WACImL,GAAa,IAmHW1L,UAAU,wGADd,SAGI,4CAIPkL,GAGG,qBAAMjL,MAAM,+CAAZ,SACKiL,EAAWnS,KAAI,SAACwK,EAAMC,GACnB,OACI,sBAAKvD,MAAM,MAAX,UACI,oBAAIA,MAAM,oCAAV,SAA+CsD,EAAK6H,QACpD,oBAAGnL,MAAM,eAAT,UAAwB,mDAAxB,IAAwDsD,EAAK1J,eAC7D,oBAAGoG,MAAM,eAAT,eAA0B,yDAA1B,QAAoEsD,EAAKgI,YAAzE,kBAHkB/H,aAW9C,sBAAKxD,UAAU,kEAAf,UACI,oBAAIA,UAAU,qEAAd,0BACA,qBAAKA,UAAU,0CAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,+DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,gDAA7B,IAA2DvH,EAAK+H,qBAMhF,qBAAKR,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4CAA7B,IAAuDvH,EAAKmH,iBAM5E,qBAAKI,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKgI,6BAMnF,qBAAKT,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKiI,0BAMnF,qBAAKV,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,oDAA7B,IAA+DvH,EAAKsB,iBAMpF,qBAAKiG,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,uDAA7B,IAAkEvH,EAAKkI,4BAMvF,qBAAKX,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4DAA7B,IAAuEvH,EAAKmI,iCAM5F,qBAAKZ,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,8CAA7B,IAAyDvH,EAAKoI,YAA9D,MAA8EpI,EAAKqI,6BAQ3G,qBAAKd,UAAU,sDAAf,SACI,qBAAKA,UAAU,8BAAf,SACI,cAAC,IAAD,CAAeP,QAASA,QAGhC,sBAAKO,UAAU,oCAAf,UACI,oBAAIA,UAAU,yCAAd,gCACA,sBAAKA,UAAU,8CAAf,UACI,oBACIE,KAAI,oCAA+BzH,EAAKsI,UACxCf,UAAU,oGAFd,UAII,wCAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,oCAA+BzH,EAAK0I,YACxCnB,UAAU,oGAFd,UAII,0CAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,2BAAsBzH,EAAKhB,GAA3B,YAAiC4B,GACrC2G,UAAU,qGAFd,UAII,4CAEA,qBAAKA,UAAU,WAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,uIAY9B,cAAC,IAAD,CACIb,OAAQoL,EACRnL,eAAgBqL,EAChB/Q,MAAO7C,GAHX,SAKI,qBAAKiI,UAAU,2CAAf,SACI,sBAAKA,UAAU,wDAAf,UACI,qBAAKA,UAAU,SAAf,SACI,qBAAIA,UAAU,0BAAd,8BACI,sBAAMA,UAAU,4EAAhB,SACI,wBAAQO,QAASoL,EAAjB,sBAIZ,qBAAK3L,UAAU,gGAAf,SAEI,sBAAMyD,SAAUmI,EAAoBlI,QAAQ,sBAA5C,SACI,sBAAK1D,UAAU,sBAAf,UACI,qBAAKA,UAAU,aAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,QACR3D,UAAU,kCAFd,mBAMA,uBACIJ,KAAK,OACLgE,SAvW5B,SAAChB,GACjByI,EAASzI,EAAE/G,OAAOgI,QAuW0BA,MAAOuH,EACPpL,UAAU,uLAItB,qBAAKA,UAAU,aAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,cACR3D,UAAU,kCAFd,yBAMA,0BACIJ,KAAK,OACLkE,KAAK,MACLF,SApXtB,SAAChB,GACvB0I,EAAe1I,EAAE/G,OAAOgI,QAoXoBA,MAAOhK,EACPmS,KAAK,IACLhM,UAAU,gLANd,oBAUR,qBAAKA,UAAU,aAAf,SACI,sBAAKA,UAAU,WAAf,UACI,uBACI2D,QAAQ,cACR3D,UAAU,kCAFd,yCAMA,uBACIJ,KAAK,SACLkE,KAAK,MACLF,SAlY3B,SAAChB,GAClB4I,EAAU5I,EAAE/G,OAAOgI,QAkYyBA,MAAO0H,EACPvL,UAAU,uLAItB,qBAAKA,UAAU,aAAf,SACI,wBAAQJ,KAAK,SAASI,UAAU,iHAAhC,2CC3E7BiE,GA9VF,WACX,IAAMpL,EAASC,iBAAO,IADL,EAEqBN,oBAAS,GAF9B,mBAEV4Q,EAFU,KAEGC,EAFH,OAIiB7Q,mBAAS,IAJ1B,mBAIVG,EAJU,KAICC,EAJD,OAKmBJ,mBAAS,IAL5B,mBAKV8Q,EALU,KAKEC,EALF,OAMK/Q,qBANL,mBAMVO,EANU,KAMLC,EANK,OAOiBR,mBAAS,IAP1B,mBAOVgR,EAPU,KAOC3H,EAPD,OAQ6BrJ,mBAAS,IARtC,mBAQViR,EARU,KAQOC,EARP,OASSlR,mBAAS,IATlB,mBASV6I,EATU,KASHC,EATG,KAUjBpH,qBAAU,WACR,IAAIC,EAAY,GACVwP,EAA+B,IAAItP,IAAgB,CACvDC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,iEAENE,MAAO,SAAqBC,GAC1B,MAA8B,yBAA1BA,EAAQrD,IAAI,UACP,IAAIyD,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAOP,EAAQrD,IAAI,WAErB6D,OAAQ,IAAIC,IAAO,CACjBF,MAAO,QACPG,MAAO,QAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,QAClB8N,UAAW,YAIR,IAAIrK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAaXO,EAAa,IAAIC,IAAI,CACzBC,OAAQhD,EAAOiD,QACfC,aAAcC,YAAS,CAAEC,SAAS,EAAOC,gBAAgB,IAAQC,OAAO,CACtE,IAAIC,IAAQ,CACVC,UAAW,SAAUC,GACnB,OAAkC,IAA3BC,KAAKC,mBAA2BC,YAAwBH,MAGnE,IAAII,IAAe,CACjBL,UAAWI,QAGfE,OAAQ,CACN,IAAIC,IAAU,CACZtC,OAAQ,IAAIuC,IAAU,CACpBnC,IAAK,6EACLoC,WAAY,gBAIhB,IAAIC,IAAW,CACbJ,OAAQ,CAACgN,MAGb3M,SAAUC,cACVE,KAAM,IAAIC,IAAK,CACbC,KAAM,EACNC,OAAQC,IAAkB,CAAC,KAAM,QACjCC,QAAS,EACTC,QAAS,OAGbzE,EAAO2C,GAGP,IAAM+B,EAAkB,IAAIzC,IAAM,CAChCI,OAAQ,IAAIC,IAAO,CACjBF,MAAO,sBACPG,MAAO,IAETL,KAAM,IAAIC,IAAK,CACbC,MAAO,0BAGLuC,EAAiB,IAAItD,IAAgB,CACzCtB,IAAK4C,EACLiC,WAAY,SACZtD,OAAQqP,EAA6B9L,YACrCjD,MAAO,SAAUC,GACf,GAAIA,EAAQrD,IAAI,YAAc2C,EAC5B,OAAOuD,KAKb/B,EAAWmC,GAAG,CAAC,UAAU,SAAUxB,GACjCqN,EAA6B5L,YAAYzB,EAAM0B,OAAOC,MAAK,SAAUC,GACnE,GAAKA,EAASC,OAAd,CAIA,IAAMtD,EAAUqD,EAAS,GACpBrD,IAMLV,EAAYU,EAAQrD,IAAI,UACxBmG,EAAeS,gBAXbjE,EAAY,WAcjB,IAIHD,qBAAU,WACRmE,EAAYqE,SAASzE,MAAK,SAACM,GACzB,IAAM7G,EAAO6G,EAAI7G,KAAK2J,MACtBC,EAAS5J,GAGT,IADA,IAAIgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE/CD,GADgBhH,EAAKiH,GAAG5E,KAM1B,IADA,IAAI8E,EAAQ,GACH7D,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CACjD,IAAI+D,EAAY,CAAE/D,GAAMtD,EAAKsD,GAAGjB,KAAO2E,EAAa,KAAKM,QAAQ,GAAKC,MAAOvH,EAAKsD,GAAGmF,WACrFtB,EAAMK,KAAKH,GAEbnG,EAAaiG,QAGd,IAEH3E,qBAAU,WACJnB,GACFA,EAAI+E,GAAG,eAAe,SAAUxB,GAC9BvD,EAAIuG,sBACFhD,EAAM0B,OACN,SAAUnD,GACR,GAA8B,yBAA1BA,EAAQrD,IAAI,UAAsC,CACpD,IAAMqS,EAAKhP,EAAQrD,IAAI,UACjB+H,EAAO1E,EAAQrD,IAAI,QACzBqK,EAAatC,GACTsK,IACFR,GAAe,GACfhL,EAAYyL,iBAAiBD,GAAI5L,MAAK,SAACM,GACrC,IAAM7G,EAAO6G,EAAI7G,KAAK2J,MACtBqI,EAAmBhS,GAEnB,IADA,IAAIgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE/CD,GADgBhH,EAAKiH,GAAG5E,KAI1B,IADA,IAAIgQ,EAAS,GACJ/O,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CACjD,IAAIgP,EAAa,CAAEhP,GAAKtD,EAAKsD,GAAGjB,KAAO2E,EAAa,KAAKM,QAAQ,GAAIC,MAAOvH,EAAKsD,GAAGmF,WACpF4J,EAAO7K,KAAK8K,GAGdT,EAAcQ,UAMtB,CACEvK,aAAc,UAQxB,IAAMyK,EAAM,CACVvK,MAAO,SACPC,OAAQ,IACRuK,kBAAmB,GACnBxS,KAAM,CACJ,CACEkI,KAAM,MACNG,WAAYuJ,KAKZa,EAAW,CACfC,kBAAkB,EAClB1K,MAAO,SACPC,OAAQ,IACRjI,KAAM,CAAC,CACLkI,KAAM,WACNG,WAAYpH,KAKhB,OAEE,qBAAKqH,UAAU,mEAAf,SAGE,sBAAKA,UAAU,8DAAf,UACE,qBAAKA,UAAU,oDAAf,SACE,sBAAKA,UAAU,wBAAf,UACE,qBAAKC,MAAM,6DAAX,SACE,oBAAGC,KAAK,aAAaD,MAAM,+DAA3B,UACE,qBAAKuH,IAAK6C,GAAWrK,UAAU,kBAAkBsK,IAAI,QACrD,sBAAMrK,MAAM,iCAAZ,gDAIJ,qBAAKD,UAAU,4CAAf,SACE,uBAAOC,MAAM,4BAAb,SACGoB,GACC,uBAAOrB,UAAU,4CAAjB,SACGqB,EAAMtI,KAAI,SAACwK,EAAMC,GAChB,OAEE,qBACEvD,MAAM,4FADR,UAGE,qBAAIA,MAAM,kCAAV,UACE,uBAAOA,MAAM,gDAAb,0BACA,oBAAGA,MAAM,mCAAT,eAA+CsD,EAAKpD,gBAItD,qBAAIF,MAAM,kCAAV,UACE,uBAAOA,MAAM,+CAAb,8BACA,oBAAGA,MAAM,mCAAT,cAA8CsD,EAAKxJ,WAGrD,qBAAIkG,MAAM,gCAAV,UACE,uBAAOA,MAAM,8CAAb,6BACA,oBAAGA,MAAM,mCAAT,cAA8CsD,EAAK7C,oBAIrD,oBAAIT,MAAM,oCAAV,SAEE,mBAAGC,KAAI,gBAAWqD,EAAK9L,IAAMuI,UAAU,kIAAvC,sBAtBKwD,YAgCrB,sBAAKxD,UAAU,0DAAf,UACE,oBAAIA,UAAU,kCAAd,yCACA,qBAAKA,UAAU,8BAAf,SACE,cAAC,IAAD,CAAeP,QAAS0K,cAMhC,qBAAKnK,UAAU,+DAAf,SACE,sBAAKA,UAAU,yEAAf,UACE,qBAAKI,IAAKvH,EAAQmH,UAAU,wBAA5B,eACA,qBAAKA,UAAWoJ,EAAc,4HAA8H,mBAA5J,SAEGK,GACC,qCACE,qBAAIzJ,UAAU,8BAAd,yBAAyDwJ,EAAzD,gBAEA,qBAAKxJ,UAAU,6BAAf,SACGyJ,EAAgB1Q,KAAI,SAACwK,EAAMC,GAE1B,OACE,qBAAKxD,UAAU,gGAAf,SACE,sBAAiBA,UAAU,0EAA3B,UACE,oBAAIA,UAAU,wBAAd,SACE,mBAAGE,KAAI,oBAAeqD,EAAK9L,IAA3B,SAAmC8L,EAAKpD,cAE1C,sBAAKH,UAAU,4BAAf,UACE,2CAAcuD,EAAK/C,YACnB,uCAAU+C,EAAK3D,WAGjB,qBAAKI,UAAU,qCAAf,SACE,oBACEE,KAAI,oBAAeqD,EAAK9L,IACxBuI,UAAU,6HAFZ,UAIE,gDAEA,qBAAKA,UAAU,wBAAf,SACE,qBACEgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHP,SAKE,sBAEEgG,EAAE,kIAxBJsC,UAuClB,qBAAKxD,UAAU,uDAAf,SACE,sBAAKA,UAAU,iDAAf,UACE,qBAAIA,UAAU,kCAAd,2BAA+DwJ,EAA/D,+BAEA,qBAAKxJ,UAAU,8BAAf,SACE,cAAC,IAAD,CAAeP,QAASwK,2BC7U1ClS,GAAe,CACjBC,QAAS,CACLC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,0BAogBJC,GAhgBG,WAAM,MAEKC,mBAAS,IAFd,mBAEbC,EAFa,KAEPC,EAFO,OAGcF,mBAAS,IAHvB,mBAGbG,EAHa,KAGFC,EAHE,KAKdC,EAASC,mBALK,EAMEN,mBAAS,IANX,mBAMbO,EANa,KAMRC,EANQ,OAOAR,mBAAS,IAPT,mBAObS,EAPa,KAORC,EAPQ,OAQAV,mBAAS,IART,mBAQbW,EARa,KAQRC,EARQ,OASDZ,mBAAS,QAArBa,EATa,sBAU6BC,IAAMd,UAAS,GAV5C,mBAUbe,EAVa,KAUQC,GAVR,KAYdC,GADSC,cACQjC,GAZH,GAeYe,oBAAS,GAfrB,qBAebmB,GAfa,MAeHC,GAfG,SAgBmBpB,oBAAS,GAhB5B,qBAgBbqB,GAhBa,MAgBAC,GAhBA,SAiBKtB,oBAAS,GAjBd,qBAiBbuB,GAjBa,MAiBPC,GAjBO,MAmBpB,SAASC,KACLT,IAAkB,GAEtBU,qBAAU,WACN,IAAIC,EAAY,GACVC,EAA0B,IAAIC,IAAgB,CAChDC,OAAQ,IAAIC,IAAiB,CACzBC,OAAQ,IAAIC,IACZC,IAAI,0DACJC,SAAU,OAGdC,MAAO,SAAqBC,GAExB,GAAIA,EAAQrD,IAAI,aAAesD,SAASrB,IAAU,CAC9C,IAAMsB,EAAIF,EAAQrD,IAAI,KAChBwD,EAAIH,EAAQrD,IAAI,KACtB0B,EAAK6B,GACL3B,EAAK4B,GAGT,OAAIH,EAAQrD,IAAI,aAAesD,SAASrB,IAC7B,IAAIwB,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAO,gBAEXC,OAAQ,IAAIC,IAAO,CACfF,MAAO,MACPG,MAAO,MAMR,IAAIN,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAO,gBAEXC,OAAQ,IAAIC,IAAO,CACfF,MAAO,qBAWrBI,EAAqB,IAAInB,IAAgB,CAC3CC,OAAQ,IAAIC,IAAiB,CACzBC,OAAQ,IAAIC,IACZC,IAAI,sDACJC,SAAU,OAEdC,MAAO,SAAqBC,GACxB,OAAIA,EAAQrD,IAAI,aAAesD,SAASrB,IAC7B,IAAIwB,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAOP,EAAQrD,IAAI,WAEvB6D,OAAQ,IAAIC,IAAO,CACfF,MAAOP,EAAQrD,IAAI,SACnB+D,MAAO,KAEXE,KAAM,IAAIC,IAAK,CACXD,KAAMZ,EAAQrD,IAAI,gBAKnB,IAAIyD,IAAM,CACbC,KAAM,IAAIC,IAAK,CACXC,MAAO,gBAEXC,OAAQ,IAAIC,IAAO,CACfF,MAAO,qBAWrBO,EAAa,IAAIC,IAAI,CACvBC,OAAQhD,EAAOiD,QACfC,aAAcC,YAAS,CAAEC,SAAS,EAAOC,gBAAgB,IAAQC,OAAO,CACpE,IAAIC,IAAQ,CACRC,UAAW,SAAUC,GACjB,OAAkC,IAA3BC,KAAKC,mBAA2BC,YAAwBH,MAGvE,IAAII,IAAe,CACfL,UAAWI,QAGnBE,OAAQ,CACJ,IAAIC,IAAU,CACVtC,OAAQ,IAAIuC,IAAU,CAClBnC,IAAK,6EACLoC,WAAY,gBAIpB,IAAIC,IAAW,CACXJ,OACI,CAACvC,EAAyBoB,MAGtCwB,SAAUC,cAAkBd,OAAO,CAAC,IAAIe,MACxCC,KAAM,IAAIC,IAAK,CACXC,KAAM,EACNC,OAAQC,IAAkB,CAAC,KAAM,OACjCC,QAAS,EACTC,QAAS,OAIjBzE,EAAO2C,GAEP,IAAM+B,EAAkB,IAAIzC,IAAM,CAC9BI,OAAQ,IAAIC,IAAO,CACfF,MAAO,sBACPG,MAAO,IAEXL,KAAM,IAAIC,IAAK,CACXC,MAAO,0BAGTuC,EAAiB,IAAItD,IAAgB,CACvCtB,IAAK4C,EACLiC,WAAY,SACZtD,OAAQkB,EAAmBqC,YAC3BjD,MAAO,SAAUC,GACb,GAAIA,EAAQrD,IAAI,SAAW2C,EACvB,OAAOuD,KAKnB/B,EAAWmC,GAAG,CAAC,UAAU,SAAUxB,GAC/Bd,EAAmBuC,YAAYzB,EAAM0B,OAAOC,MAAK,SAAUC,GACvD,GAAKA,EAASC,OAAd,CAIA,IAAMtD,EAAUqD,EAAS,GACpBrD,IAMLV,EAAYU,EAAQrD,IAAI,OACxBmG,EAAeS,gBAXXjE,EAAY,WAezB,IAOHD,qBAAU,WAENmE,EAAYC,QAAQ7E,IAASwE,MAAK,SAACM,GAC/B,IAAM7G,EAAO6G,EAAI7G,KAAKe,KACtBC,EAAShB,MAGb8G,EAAgBC,YAAYhF,IAASwE,MAAK,SAACM,GAIvC,IAHA,IAAM7G,EAAO6G,EAAI7G,KAEbgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE7CD,GADgB5D,SAASpD,EAAKiH,GAAG5E,MAIrC,IADA,IAAI8E,EAAQ,GACH7D,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CAC/C,IAAI+D,EAAY,CAAE/D,GAAMF,SAASpD,EAAKsD,GAAGjB,MAAQ2E,EAAa,KAAKM,QAAQ,GAAKC,MAAOvH,EAAKsD,GAAGrB,UAC/FkF,EAAMK,KAAKH,GAEfnG,EAAaiG,QAGlB,IAEH3E,qBAAU,WACFjB,GAAOE,IACPJ,EAAIoG,UAAUC,UAAU7B,IAAkB,CAACtE,EAAKE,KAChDJ,EAAIoG,UAAUE,QAAQ,IACtBtG,EAAI+E,GAAG,eAAe,SAAUxB,GAC5BvD,EAAIuG,sBACAhD,EAAM0B,OACN,SAAUnD,GACN,GAA6B,cAAzBA,EAAQrD,IAAI,UACRqD,EAAQrD,IAAI,aAAesD,SAASrB,IAAU,CAC9CD,IAAkB,GAClB,IAAM+F,EAAO1E,EAAQrD,IAAI,YACzBoC,GAAY2F,GACZ,IAAM1F,EAAcgB,EAAQrD,IAAI,WAChCsC,GAAgBD,GAChB,IAAME,EAAOc,EAAQrD,IAAI,QAAQwH,QAAQ,GACzChF,GAASD,MAMrB,CACIyF,aAAc,WASlC,IAAMC,GAAU,CACZC,MAAO,SACPC,OAAQ,IACRjI,KAAM,CAAC,CACHkI,KAAM,MACNC,WAAW,UACXC,WAAY,aACZC,WAAYpH,KAKpB,OACI,sBAAKqH,UAAU,uDAAf,UACI,qBAAKC,MAAM,yCAAX,SACI,mBAAGC,KAAI,8BAAyBzH,EAAKhB,IAAMwI,MAAM,yEAAjD,SACI,sBAAMA,MAAM,sBAAZ,SAAmCxH,EAAK0H,gBAIhD,sBAAKH,UAAU,0EAAf,UAKI,qBAAKA,UAAU,+DAAf,SACI,sBAAKA,UAAU,yEAAf,UACI,qBAAKI,IAAKvH,EAAQmH,UAAU,wBAA5B,eACA,cAAC,IAAD,CACIK,OAAQ9G,EACR+G,eAAgBrG,GAChBW,MAAO7C,GAHX,SAKI,qBAAKiI,UAAU,mCAAf,SACI,sBAAKA,UAAU,oBAAf,UAEI,qBAAKC,MAAM,SAAX,SACI,qBAAID,UAAU,eAAd,yBACI,sBAAMA,UAAU,0FAAhB,SAA0G,wBAAQO,QAAStG,GAAjB,sBAIlH,sBAAK+F,UAAU,qGAAf,UAEI,qBAAKA,UAAU,iBAAf,SACI,qBAAIA,UAAU,gCAAd,cAAgDrG,GAAhD,SAEJ,qBAAKqG,UAAU,iBAAf,SACI,oBAAGA,UAAU,MAAb,UAAmB,wBAAQA,UAAU,YAAlB,6BAAnB,KAA4EnG,GAA5E,SAEJ,qBAAKmG,UAAU,iBAAf,SACI,oBAAGA,UAAU,MAAb,UAAmB,wBAAQA,UAAU,YAAlB,mBAAnB,KAAkEjG,GAAlE,+BAU5B,sBAAKiG,UAAU,kEAAf,UACI,oBAAIA,UAAU,yCAAd,0BACI,qBAAKA,UAAU,0CAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,+DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,gDAA7B,IAA2DvH,EAAK+H,qBAMhF,qBAAKR,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4CAA7B,IAAuDvH,EAAKmH,iBAM5E,qBAAKI,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKgI,6BAMnF,qBAAKT,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKiI,0BAMnF,qBAAKV,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,oDAA7B,IAA+DvH,EAAKsB,iBAMpF,qBAAKiG,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,uDAA7B,IAAkEvH,EAAKkI,4BAMvF,qBAAKX,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4DAA7B,IAAuEvH,EAAKmI,iCAM5F,qBAAKZ,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,8CAA7B,IAAyDvH,EAAKoI,YAA9D,MAA8EpI,EAAKqI,6BAQ3G,qBAAKd,UAAU,sDAAf,SACI,qBAAKA,UAAU,8BAAf,SACI,cAAC,IAAD,CAAeP,QAASA,SAGhC,sBAAKO,UAAU,oCAAf,UACI,oBAAIA,UAAU,yCAAd,gCACA,sBAAKA,UAAU,8CAAf,UACI,oBACIE,KAAI,oCAA+BzH,EAAKsI,UACxCf,UAAU,yGAFd,UAII,wCAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,oCAA+BzH,EAAK0I,YACxCnB,UAAU,sHAFd,UAII,0CAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,iBAAYzH,EAAKhB,GAAjB,YAAuB4B,GAC3B2G,UAAU,sHAFd,UAII,4CAEA,qBAAKA,UAAU,WAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8ICrf5CnJ,GAAe,CACnBC,QAAS,CACPC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,0BAojBA2L,GA9iBF,WACX,IAAMpL,EAASC,mBADE,EAEKN,mBAAS,IAFd,mBAEVO,EAFU,KAELC,EAFK,OAGGR,mBAAS,IAHZ,mBAGVS,EAHU,KAGLC,EAHK,OAIGV,mBAAS,IAJZ,mBAIVW,EAJU,KAILC,EAJK,OAKKZ,mBAAS,IALd,mBAKV0L,EALU,KAKJC,EALI,OAMK3L,mBAAS,IANd,mBAMV4L,GANU,KAMJC,GANI,KAOXC,GAAS5K,cACT6K,GAASD,GAAOE,QARL,GASchM,mBAAS8L,GAAOjL,UAT9B,qBASVA,GATU,MASAoL,GATA,SAWSjM,mBAAS,IAXlB,qBAWVkM,GAXU,MAWFC,GAXE,SAekBnM,mBAAS,IAf3B,qBAeVoM,GAfU,MAeEC,GAfF,SAgBYrM,mBAAS,IAhBrB,qBAgBVwL,GAhBU,MAgBDc,GAhBC,SAiBatM,mBAAS,IAjBtB,qBAiBVuM,GAjBU,MAiBDC,GAjBC,SAkBKxM,mBAAS,IAlBd,qBAkBVyM,GAlBU,MAkBLC,GAlBK,SAmBe1M,mBAAS,IAnBxB,qBAmBVmB,GAnBU,MAmBAC,GAnBA,MAmB6BpB,mBAAS,IAnBtC,OAoBeA,mBAAS,IApBxB,qBAoBV2M,GApBU,MAoBAC,GApBA,SAqBQ5M,mBAAS,IArBjB,qBAqBVuB,GArBU,MAqBJC,GArBI,SAsBgCV,IAAMd,UAAS,GAtB/C,qBAsBVe,GAtBU,MAsBWC,GAtBX,MAwBjB,SAASS,KACPT,IAAkB,GAGpBU,qBAAU,WAER,IAAIC,EAAY,GACVC,EAA0B,IAAIC,IAAgB,CAClDC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,0DACJC,SAAU,OAGZC,MAAO,SAAqBC,GAC1B,GAAIA,EAAQrD,IAAI,aAAesD,SAASyJ,IAAS,CAC/C,IAAMxJ,EAAIF,EAAQrD,IAAI,KAChBwD,EAAIH,EAAQrD,IAAI,KACtB0B,EAAK6B,GACL3B,EAAK4B,GAEP,OAAIH,EAAQrD,IAAI,aAAesD,SAASyJ,IAC/B,IAAItJ,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,MACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,YAKf,IAAIyD,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAUXiK,EAAkB,IAAIhL,IAAgB,CAC1CC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,kDACJC,SAAU,OAGZC,MAAO,SAAqBC,GAC1B,GAAIA,EAAQrD,IAAI,SAAWsD,SAASzB,IAAW,CAC7C,IAAM0B,EAAIF,EAAQrD,IAAI,KAChBwD,EAAIH,EAAQrD,IAAI,KACtB2M,EAAMpJ,GACNsJ,GAAMrJ,GAER,OAAIH,EAAQrD,IAAI,aAAesD,SAASyJ,IAClC1J,EAAQrD,IAAI,SAAWsD,SAASzB,IAC3B,IAAI4B,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,QAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,QACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,WAClB8N,UAAW,QACXC,aAAc,SACdC,KAAM,2BAKH,IAAIvK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAOP,EAAQrD,IAAI,WAErB6D,OAAQ,IAAIC,IAAO,CACjBF,MAAO,QACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,WAClB8N,UAAW,QACXC,aAAc,aAOb,IAAItK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAUXqK,EAAkB,IAAIpL,IAAgB,CAC1CC,OAAQ,IAAIC,IAAiB,CAC3BC,OAAQ,IAAIC,IACZC,IAAI,kDACJC,SAAU,OAGZC,MAAO,SAAqBC,GAC1B,OAAIA,EAAQrD,IAAI,aAAesD,SAASyJ,IAC/B,IAAItJ,IAAM,CACfI,OAAQ,IAAIC,IAAO,CACjBF,MAAO,UACPG,MAAO,IAETE,KAAM,IAAIC,IAAK,CACbD,KAAMZ,EAAQrD,IAAI,QAClB8N,UAAW,OACXC,aAAc,SACdC,KAAM,2BAKH,IAAIvK,IAAM,CACfC,KAAM,IAAIC,IAAK,CACbC,MAAO,gBAETC,OAAQ,IAAIC,IAAO,CACjBF,MAAO,qBAUXO,EAAa,IAAIC,IAAI,CACzBC,OAAQhD,EAAOiD,QACfC,aAAcC,YAAS,CAAEC,SAAS,EAAOC,gBAAgB,IAAQC,OAAO,CACtE,IAAIC,IAAQ,CACVC,UAAW,SAAUC,GACnB,OAAkC,IAA3BC,KAAKC,mBAA2BC,YAAwBH,MAGnE,IAAII,IAAe,CACjBL,UAAWI,QAGfE,OAAQ,CACN,IAAIC,IAAU,CACZtC,OAAQ,IAAIuC,IAAU,CACpBnC,IAAK,6EACLoC,WAAY,gBAGhB,IAAIC,IAAW,CACbJ,OAAQ,CAACvC,KAGX,IAAI2C,IAAW,CACbJ,OAAQ,CAAC0I,KAEX,IAAItI,IAAW,CACbJ,OAAQ,CAAC8I,MAGbzI,SAAUC,cAAkBd,OAAO,CAAC,IAAIe,MACxCC,KAAM,IAAIC,IAAK,CACbC,KAAM,EACNC,OAAQC,IAAkB,CAAC,KAAM,QACjCC,QAAS,EACTC,QAAS,OAIbzE,EAAO2C,GAEP,IAAM+B,EAAkB,IAAIzC,IAAM,CAChCI,OAAQ,IAAIC,IAAO,CACjBF,MAAO,sBACPG,MAAO,IAETL,KAAM,IAAIC,IAAK,CACbC,MAAO,0BAGLuC,EAAiB,IAAItD,IAAgB,CACzCtB,IAAK4C,EACLiC,WAAY,SACZtD,OAAQ+K,EAAgBxH,YACxBjD,MAAO,SAAUC,GACf,GAAIA,EAAQrD,IAAI,SAAW2C,EACzB,OAAOuD,KAKb/B,EAAWmC,GAAG,CAAC,UAAU,SAAUxB,GACjC+I,EAAgBtH,YAAYzB,EAAM0B,OAAOC,MAAK,SAAUC,GACtD,GAAKA,EAASC,OAAd,CAIA,IAAMtD,EAAUqD,EAAS,GACpBrD,IAMLV,EAAYU,EAAQrD,IAAI,OACxBmG,EAAeS,gBAXbjE,EAAY,WAgBjB,IACHD,qBAAU,WACR,GAAIjB,GAAOE,EAAK,CACdJ,EAAIoG,UAAUC,UAAU7B,IAAkB,CAACtE,EAAKE,KAChDJ,EAAIoG,UAAUE,QAAQ,IAClB+E,IAAQF,IACVnL,EAAIoG,UAAUC,UAAU7B,IAAkB,CAAC2G,EAAME,MACjDrL,EAAIoG,UAAUE,QAAQ,KAExBtG,EAAI+E,GAAG,eAAe,SAAUxB,GAC9BvD,EAAIuG,sBACFhD,EAAM0B,OACN,SAAUnD,GACR,GAA6B,UAAzBA,EAAQrD,IAAI,UACVqD,EAAQrD,IAAI,aAAesD,SAASyJ,IAAS,CAC/C/K,IAAkB,GAClB,IAAMkM,EAAM7K,EAAQrD,IAAI,OACxBiN,GAAWiB,GACX,IAAM1B,EAAUnJ,EAAQrD,IAAI,WAC5BsN,GAAUd,GACV,IAAMY,EAAa/J,EAAQrD,IAAI,cAC/BqN,GAAaD,GACb,IAAMjL,EAAWkB,EAAQrD,IAAI,YAC7BoC,GAAYD,GACZ,IAAMwL,EAAWtK,EAAQrD,IAAI,YAC7B4N,GAAYD,GACZ,IAAMJ,EAAUlK,EAAQrD,IAAI,WAC5BwN,GAAWD,GACX,IAAMY,EAAO9K,EAAQrD,IAAI,OACzB0N,GAAOS,GACP,IAAM5L,EAAOc,EAAQrD,IAAI,QACzBwC,GAASD,MAIf,CACEyF,aAAc,OAKpB,IAAMlF,EAAS,IAAIsL,IACbC,EAAQ,IAAIC,IAAY,CAC5BxL,OAAQA,IAEVvB,EAAIgN,SAASF,GACb,IAAMG,EAAeC,SAASC,cAAc,OAC5CF,EAAahG,UAAY,wEACzBgG,EAAaG,UAAY,0BACzBH,EAAaI,iBAAiB,SAAS,WACrCC,UAAUC,YAAYC,eACpB,SAAUC,GACR,IAAMC,EAAS,CAACD,EAASC,OAAOC,UAAWF,EAASC,OAAOE,UAC3D5N,EAAIoG,UAAUC,UAAU7B,IAAkB,CAACiJ,EAASC,OAAOC,UAAWF,EAASC,OAAOE,YACtF5N,EAAIoG,UAAUE,QAAQ,IACtB,IAAMuH,EAAWC,YAASJ,EAAQD,EAASC,OAAOG,UAClDtM,EAAOwM,OAAM,GACb,IAAMC,EAAkB,IAAIC,IAAQ,CAAEC,SAAU,IAAIC,KAAM3J,IAAkBkJ,MAC5EM,EAAgBI,SAAS,IAAIlM,IAAM,CACjCmM,MAAO,IAAIC,IAAK,CACdjM,MAAO,OACPkM,QAAS,MACTC,YAAa,YACbC,IAAK,8DAGT,IAAMC,EAAkB,IAAIT,IAAQJ,EAAStO,UAAU,YAAaS,EAAIoG,UAAUuI,kBAClFpN,EAAOqN,WAAWF,GAClBnN,EAAOqN,WAAWZ,MAEpB,SAAU1D,GACRuE,MAAM,UAAD,OAAWvE,EAAMwE,QAAjB,QAEP,CACEC,oBAAoB,OAI1B/O,EAAIgP,WACF,IAAIC,IAAQ,CACVC,QAASjC,SAMjB,IAIMkC,GAAY,uCAAG,WAAOtF,GAAP,SAAAC,EAAA,sDACnBD,EAAEE,iBACF,SACiBqF,IAAXzD,GACF0D,EAAYC,gBAAgB3D,IAAQzG,MAAK,SAACM,GACxC,IAAM+J,EAAO/J,EAAI7G,KACb4Q,EAAK9D,UAAYD,IACnB/K,IAAkB,GAClBsL,GAAUwD,EAAKtE,SACfS,GAAW6D,EAAK5C,KAChBb,GAAayD,EAAK1D,aAElB1B,QAAMG,MAAM,wBAIhBH,QAAMG,MAAM,wBAGd,SACAH,QAAMG,MAAM,iCApBK,2CAAH,sDA0BlB,OACE,qCACE,qBAAKrD,UAAU,oDAAf,SACE,sBAAKA,UAAU,6EAAf,UACE,qBAAKA,UAAU,wEAAf,SACE,sBAAKA,UAAU,yEAAf,UACE,qBAAKI,IAAKvH,EAAQmH,UAAU,0BAA5B,eAEA,cAAC,IAAD,CACEK,OAAQ9G,GACR+G,eAAgBrG,GAChBW,MAAO7C,GAHT,SAKE,qBAAKiI,UAAU,mCAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,qBAAKA,UAAU,SAAf,SACE,qBAAIA,UAAU,eAAd,qBACE,sBAAMA,UAAU,0FAAhB,SACE,wBAAQO,QAAStG,GAAjB,sBAIN,sBAAK+F,UAAU,qGAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoDgE,eAM5D,qBAAKhE,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+DAAxB,IAAoE4E,eAK5E,qBAAK5E,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoDmF,eAK5D,qBAAKnF,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoD+E,eAK5D,qBAAK/E,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,6CAAxB,IAAkDiF,eAK1D,qBAAKjF,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,+CAAxB,IAAoDrG,eAK5D,qBAAKqG,UAAU,iBAAf,SACE,qBAAKA,UAAU,oCAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,qBACEA,UAAU,yEAIZ,8BACE,uBAAMA,UAAU,QAAhB,UAAwB,2CAAxB,IAAgDjG,GAAhD,qBAKR,qBAAKiG,UAAU,kDAAf,SACE,oBACEE,KAAI,2BAAsBqE,GAAtB,YAAgClL,IACpC2G,UAAU,8GAFZ,UAIE,gDAEA,qBAAKA,UAAU,UAAf,SACE,qBACEgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHP,SAKE,sBAEEgG,EAAE,+IAcxB,qBAAKjB,MAAM,6BAAX,SACE,qBAAKD,UAAU,kCAAf,SACE,sBAAMyD,SAAUyE,GAAclI,UAAU,gCAAxC,SACE,sBAAKA,UAAU,gBAAf,UACE,uBAAOJ,KAAK,OAAOgE,SAzLd,SAAChB,GACpB+B,GAAQ/B,EAAE/G,OAAOgI,QAwLwCA,MAAOa,GAAQ1E,UAAU,sOAAsOuI,YAAY,yBACtT,wBAAQ3I,KAAK,SAASI,UAAU,kTAAhC,SACE,qBAAKwI,UAAU,QAAQC,WAAW,MAAMC,SAAS,SAAS1I,UAAU,oBAAoB2I,KAAK,MAAM3H,MAAM,6BAA6BC,QAAQ,cAA9I,SACE,sBAAM/F,KAAK,eAAegG,EAAE,gXAW5C,cAAC,iBAAD,CAAgB0H,UAAW,IACzBpC,SAAS,aACTqC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,QCpRL5Q,GAzSG,WAAM,MAEKC,mBAAS,IAFd,mBAEbC,EAFa,KAEPC,EAFO,OAGcF,mBAAS,IAHvB,mBAGb0S,EAHa,KAGDC,EAHC,OAIc3S,mBAAS,IAJvB,mBAIbG,EAJa,KAIFC,EAJE,KAOda,EADSC,cACQjC,GAPH,EAQDe,mBAAS,QAArBa,EARa,oBAWpBa,qBAAU,WAENmE,EAAYC,QAAQ7E,GAASwE,MAAK,SAACM,GAC/B,IAAM7G,EAAO6G,EAAI7G,KAAKe,KACtBC,EAAShB,MAIbqU,GAAgBtN,YAAYhF,GAASwE,MAAK,SAACM,GACvC,IAAM7G,EAAO6G,EAAI7G,KAAKwT,WACtBW,QAAQC,IAAIpU,GACZyT,EAAYzT,MAGhB8G,EAAgBC,YAAYhF,GAASwE,MAAK,SAACM,GAIvC,IAHA,IAAM7G,EAAO6G,EAAI7G,KAEbgH,EAAY,EACPC,EAAI,EAAGC,EAAMlH,EAAKyG,OAAQQ,EAAIC,EAAKD,IAAK,CAE7CD,GADgB5D,SAASpD,EAAKiH,GAAG5E,MAIrC,IADA,IAAI8E,EAAQ,GACH7D,EAAI,EAAG8D,EAAOpH,EAAKyG,OAAQnD,EAAI8D,EAAM9D,IAAK,CAC/C,IAAI+D,EAAY,CAAE/D,GAAMF,SAASpD,EAAKsD,GAAGjB,MAAQ2E,EAAa,KAAKM,QAAQ,GAAKC,MAAOvH,EAAKsD,GAAGrB,UAC/FkF,EAAMK,KAAKH,GAEfnG,EAAaiG,QAGlB,IAGH,IAAMY,EAAU,CACZC,MAAO,SACPC,OAAQ,IACRjI,KAAM,CAAC,CACHkI,KAAM,MACNC,WAAW,UACXC,WAAY,aACZC,WAAYpH,KAKpB,OACI,sBAAKqH,UAAU,uDAAf,UACI,qBAAKC,MAAM,yCAAX,SACI,mBAAGC,KAAI,8BAAyBzH,EAAKhB,IAAMwI,MAAM,wEAAjD,SACI,sBAAMA,MAAM,sBAAZ,SAAmCxH,EAAK0H,gBAIhD,sBAAKH,UAAU,0EAAf,UAGI,qBAAKA,UAAU,+DAAf,SACI,sBAAKA,UAAU,+CAAf,UACI,qBAAKA,UAAU,sEAAf,SACI,oBAAIA,UAAU,uCAAd,2BAIHkL,GAGG,qBAAMjL,MAAM,+CAAZ,SACKiL,EAAWnS,KAAI,SAACwK,EAAMC,GACnB,OACI,sBAAKvD,MAAM,MAAX,UACI,oBAAIA,MAAM,oCAAV,SAA+CsD,EAAK6H,QACpD,oBAAGnL,MAAM,eAAT,UAAwB,mDAAxB,IAAwDsD,EAAK1J,eAC7D,oBAAGoG,MAAM,eAAT,eAA0B,yDAA1B,QAAoEsD,EAAKgI,YAAzE,kBAHkB/H,aAW9C,sBAAKxD,UAAU,kEAAf,UACI,oBAAIA,UAAU,qEAAd,0BACA,qBAAKA,UAAU,0CAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,+DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,gDAA7B,IAA2DvH,EAAK+H,qBAMhF,qBAAKR,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4CAA7B,IAAuDvH,EAAKmH,iBAM5E,qBAAKI,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKgI,6BAMnF,qBAAKT,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,mDAA7B,IAA8DvH,EAAKiI,0BAMnF,qBAAKV,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,oDAA7B,IAA+DvH,EAAKsB,iBAMpF,qBAAKiG,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,uDAA7B,IAAkEvH,EAAKkI,4BAMvF,qBAAKX,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,4DAA7B,IAAuEvH,EAAKmI,iCAM5F,qBAAKZ,UAAU,iBAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,qBACIA,UAAU,8DAId,8BACI,uBAAMA,UAAU,aAAhB,UAA6B,8CAA7B,IAAyDvH,EAAKoI,YAA9D,MAA8EpI,EAAKqI,6BAQ3G,qBAAKd,UAAU,sDAAf,SACI,qBAAKA,UAAU,8BAAf,SACI,cAAC,IAAD,CAAeP,QAASA,QAGhC,sBAAKO,UAAU,oCAAf,UACI,oBAAIA,UAAU,yCAAd,gCACA,sBAAKA,UAAU,8CAAf,UACI,oBACIE,KAAI,oCAA+BzH,EAAKsI,UACxCf,UAAU,oGAFd,UAII,wCAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,oCAA+BzH,EAAK0I,YACxCnB,UAAU,oGAFd,UAII,0CAEA,qBAAKA,UAAU,UAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8HAMlB,oBACIhB,KAAI,2BAAsBzH,EAAKhB,GAA3B,YAAiC4B,GACrC2G,UAAU,qGAFd,UAII,4CAEA,qBAAKA,UAAU,WAAf,SACI,qBACIgB,MAAM,6BACNC,QAAQ,YACR/F,KAAK,eAHT,SAKI,sBAEIgG,EAAE,8ICvP/B+K,GA9BH,WASV,OACE,cAAC,IAAD,UACE,qBAAKjM,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkM,OAAK,EAACC,KAAK,aAAalE,QAAS,cAAE,GAAF,MACxC,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,0BAA0BlE,QAAS,cAAEmE,EAAF,MACrD,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,uCAAuClE,QAAS,cAAE,GAAF,MAClE,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,mBAAmBlE,QAAS,cAAE,EAAF,MAC9C,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,sBAAsBlE,QAAS,cAAE,GAAF,MACjD,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,SAASlE,QAAS,cAAE,GAAF,MACpC,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,IAAIlE,QAAS,cAAE,GAAF,MAC/B,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,gBAAgBlE,QAAS,cAAE,GAAF,MAC3C,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,4BAA4BlE,QAAS,cAAE,GAAF,MACvD,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,YAAYlE,QAAS,cAAE,GAAF,cCrCjDoE,IAASC,OACP,cAAC,IAAMC,SAAP,UACE,cAAC,GAAD,MAEFtG,SAASuG,eAAe,W","file":"static/js/main.9a2cef2f.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:5000\",\r\n  headers: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n});","import http from \"../common/http-common\"\r\n\r\nclass planService {\r\n  getAll() {\r\n    return http.get(\"/api/get-all-plans\");\r\n  }\r\n\r\n  getById(id) {\r\n    return http.get(`/api/get-plan/${id}`);\r\n  }\r\n\r\n  getByDzongkhagId(id) {\r\n    return http.get(`/api/get-plan/dzongkhag/${id}`);\r\n  }\r\n\r\n  create(data) {\r\n    return http.post(\"/api/create-plan\", data);\r\n  }\r\n  upload(id , data) {\r\n    return http.put(`/api/upload/${id}`, data);\r\n  }\r\n\r\n  update(id, data) {\r\n    return http.put(`/api/update-plan/${id}`, data);\r\n  }\r\n\r\n  delete(id) {\r\n    return http.delete(`/api/delete-plan/${id}`);\r\n  }\r\n\r\n}\r\n\r\nexport default new planService();","import http from \"../common/http-common\"\r\n\r\nclass precinctService {\r\n\r\n  getByPlanId(planid) {\r\n    return http.get(`/api/get-precinct/${planid}`);\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default new precinctService();","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom'\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorTileLayer from \"ol/layer/VectorTile\";\r\nimport MVT from 'ol/format/MVT';\r\nimport XYZSource from 'ol/source/XYZ'\r\nimport VectorTileSource from 'ol/source/VectorTile';\r\nimport { Fill, Stroke, Style, Text } from 'ol/style';\r\nimport { DragPan, MouseWheelZoom, defaults } from 'ol/interaction';\r\nimport { platformModifierKeyOnly } from 'ol/events/condition';\r\nimport Modal from 'react-modal';\r\nimport * as olProj from 'ol/proj';\r\nimport 'ol/ol.css';\r\nimport { defaults as defaultControls, ScaleLine } from 'ol/control';\r\nimport { Group as LayerGroup } from 'ol/layer';\r\nimport planService from \"../../../services/plan/plan.service\";\r\nimport precinctService from \"../../../services/plan/precinct.service\";\r\nimport { CanvasJSChart } from \"canvasjs-react-charts\"\r\n\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\nconst Dashboard = () => {\r\n    // Plan Details\r\n    const [plan, SetPlans] = useState(\"\");\r\n    const [chartData, setChartData] = useState(\"\");\r\n    /// Map View\r\n    const mapRef = useRef();\r\n    const [map, setMap] = useState(\"\");\r\n    const [lon, setX] = useState(\"\");\r\n    const [lat, setY] = useState(\"\");\r\n    const [plot_gid] = useState(\"none\");\r\n    const [modalViewPlanIsOpen, setViewPlanIsOpen] = React.useState(false);\r\n    const params = useParams();\r\n    const plandId = params.id;\r\n\r\n    // Precinet\r\n    const [precinct, setPrecinct] = useState(false);\r\n    const [description, setPDescription] = useState(false);\r\n    const [area, setPArea] = useState(false);\r\n\r\n    function closeViewPlanModal() {\r\n        setViewPlanIsOpen(false);\r\n    }\r\n    useEffect(() => {\r\n        let selection = {};\r\n        const planboundaryvectorLayer = new VectorTileLayer({\r\n            source: new VectorTileSource({\r\n                format: new MVT(),\r\n                url: `http://localhost:5000/api/plan-boundary/{z}/{x}/{y}.pbf`,\r\n                tileSize: 4096\r\n\r\n            }),\r\n            style: function simpleStyle(feature) {\r\n\r\n                if (feature.get('plan_id') === parseInt(plandId)) {\r\n                    const x = feature.get('x');\r\n                    const y = feature.get('y');\r\n                    setX(x)\r\n                    setY(y)\r\n                }\r\n\r\n                if (feature.get(\"plan_id\") === parseInt(plandId)) {\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: 'transparent'\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: \"red\",\r\n                            width: 1\r\n                        }),\r\n\r\n                    });\r\n                } else {\r\n\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: 'transparent'\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: \"transparent\"\r\n                        })\r\n\r\n                    });\r\n\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n\r\n        const precintvectorLayer = new VectorTileLayer({\r\n            source: new VectorTileSource({\r\n                format: new MVT(),\r\n                url: `http://localhost:5000/api/precincts/{z}/{x}/{y}.pbf`,\r\n                tileSize: 1536\r\n            }),\r\n            style: function simpleStyle(feature) {\r\n                if (feature.get(\"plan_id\") === parseInt(plandId)) {\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: feature.get('color'),\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: feature.get('color'),\r\n                            width: 0.1\r\n                        }),\r\n                        text: new Text({\r\n                            text: feature.get('precinct')\r\n                        })\r\n\r\n                    });\r\n                } else {\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: \"transparent\",\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: \"transparent\"\r\n                        }),\r\n\r\n                    });\r\n\r\n                }\r\n\r\n\r\n            },\r\n\r\n        });\r\n        const initialMap = new Map({\r\n            target: mapRef.current,\r\n            interactions: defaults({ dragPan: false, mouseWheelZoom: true }).extend([\r\n                new DragPan({\r\n                    condition: function (event) {\r\n                        return this.getPointerCount() === 1 || platformModifierKeyOnly(event);\r\n                    },\r\n                }),\r\n                new MouseWheelZoom({\r\n                    condition: platformModifierKeyOnly,\r\n                }),\r\n            ]),\r\n            layers: [\r\n                new TileLayer({\r\n                    source: new XYZSource({\r\n                        url: 'https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',\r\n                        projection: 'EPSG:3857',\r\n\r\n                    })\r\n                }),\r\n                new LayerGroup({\r\n                    layers:\r\n                        [planboundaryvectorLayer, precintvectorLayer],\r\n                }),\r\n            ],\r\n            controls: defaultControls().extend([new ScaleLine()]),\r\n            view: new View({\r\n                zoom: 9,\r\n                center: olProj.fromLonLat([90.3, 27.3]),\r\n                minZoom: 2,\r\n                maxZoom: 60\r\n            }),\r\n\r\n        })\r\n        setMap(initialMap)\r\n\r\n        const selectedCountry = new Style({\r\n            stroke: new Stroke({\r\n                color: 'rgba(200,20,20,0.8)',\r\n                width: 2,\r\n            }),\r\n            fill: new Fill({\r\n                color: 'rgba(200,20,20,0.4)',\r\n            }),\r\n        });\r\n        const selectionLayer = new VectorTileLayer({\r\n            map: initialMap,\r\n            renderMode: 'vector',\r\n            source: precintvectorLayer.getSource(),\r\n            style: function (feature) {\r\n                if (feature.get('gid') === selection) {\r\n                    return selectedCountry;\r\n                }\r\n            },\r\n        });\r\n\r\n        initialMap.on(['click'], function (event) {\r\n            precintvectorLayer.getFeatures(event.pixel).then(function (features) {\r\n                if (!features.length) {\r\n                    selection = {};\r\n                    return;\r\n                }\r\n                const feature = features[0];\r\n                if (!feature) {\r\n                    return;\r\n                }\r\n                if ('singleselect' === 0) {\r\n                    selection = {};\r\n                }\r\n                selection = feature.get('gid');\r\n                selectionLayer.changed();\r\n            });\r\n        });\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    // Plan Details\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        planService.getById(plandId).then((res) => {\r\n            const data = res.data.plan;\r\n            SetPlans(data)\r\n        });\r\n\r\n        precinctService.getByPlanId(plandId).then((res) => {\r\n            const data = res.data;\r\n\r\n            let totalArea = 0;\r\n            for (var i = 0, len = data.length; i < len; i++) {\r\n                var dataArray = parseInt(data[i].area);\r\n                totalArea += dataArray\r\n            }\r\n            let chart = [];\r\n            for (var y = 0, len2 = data.length; y < len2; y++) {\r\n                var dataChart = { y: (((parseInt(data[y].area) / totalArea) * 100).toFixed(4)), label: data[y].precinct }\r\n                chart.push(dataChart)\r\n            }\r\n            setChartData(chart)\r\n        })\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (lon && lat) {\r\n            map.getView().setCenter(olProj.fromLonLat([lon, lat]));\r\n            map.getView().setZoom(16)\r\n            map.on('singleclick', function (event) {\r\n                map.forEachFeatureAtPixel(\r\n                    event.pixel,\r\n                    function (feature) {\r\n                        if (feature.get('layer') === \"precincts\") {\r\n                            if (feature.get('plan_id') === parseInt(plandId)) {\r\n                                setViewPlanIsOpen(true)\r\n                                const name = feature.get('precinct');\r\n                                setPrecinct(name)\r\n                                const description = feature.get('details');\r\n                                setPDescription(description)\r\n                                const area = feature.get('area').toFixed(2);\r\n                                setPArea(area)\r\n                            }\r\n\r\n\r\n                        }\r\n                    },\r\n                    {\r\n                        hitTolerance: 0,\r\n                    }\r\n                );\r\n            });\r\n        }\r\n\r\n    })\r\n\r\n\r\n    const options = {\r\n        theme: \"light2\",\r\n        height: 230,\r\n        data: [{\r\n            type: \"pie\",\r\n            indexLabel: `{label}`,\r\n            fontFamily: 'sans-serif',\r\n            dataPoints: chartData\r\n        }]\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex font-serif flex-col md:h-screen overflow-hidden\">\r\n            <div class=\"bg-gray-200 w-full flex justify-center\">\r\n                <a href={`/dashboard/precinet/${plan.id}`} class=\"flex flex-col items-center py-5 px-2 text-gray-700 hover:text-gray-900\">\r\n                    <span class=\"font-bold  text-2xl\">{plan.plan_name}</span>\r\n                </a>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-400 p-2 h-full w-full flex md:flex-row flex-col overflow-hidden\">\r\n\r\n                {/* <div className=\"bg-white m-4 md:w-2/6 rounded-lg overflow-hidden\">\r\n                    Activities\r\n                </div> */}\r\n                <div className=\"bg-white m-4 md:w-3/4  rounded-lg overflow-hidden rounded-lg\">\r\n                    <div className=\"flex flex-col md:flex-row h-full w-full justify-center overflow-hidden\">\r\n                        <div ref={mapRef} className=\"w-full md:h-full h-96\"> </div>\r\n                        <Modal\r\n                            isOpen={modalViewPlanIsOpen}\r\n                            onRequestClose={closeViewPlanModal}\r\n                            style={customStyles}\r\n                        >\r\n                            <div className=\"flex justify-around items-center\">\r\n                                <div className=\"w-72 md:w-96 h-96\">\r\n\r\n                                    <div class=\"md:m-3\">\r\n                                        <h2 className=\"text-lg mb-2\">Precinct DCR\r\n                                            <span className=\"text-xs  text-red-800 font-serif  inline bg-gray-400 rounded-full px-2 py-1 float-right\"><button onClick={closeViewPlanModal}>\r\n                                                X\r\n                                            </button></span></h2>\r\n                                    </div>\r\n                                    <div className=\"w-full font-light font-serif text-sm text-gray-700 hover:text-gray-900 transition-all duration-200\">\r\n\r\n                                        <div className=\"space-y-5 mt-6\">\r\n                                            <h2 className=\"text-lg text-center underline\"> {precinct} </h2>\r\n                                        </div>\r\n                                        <div className=\"space-y-5 mt-6\">\r\n                                            <p className=\"p-1\"><strong className='underline'>Characterstics:</strong>  {description} </p>\r\n                                        </div>\r\n                                        <div className=\"space-y-5 mt-6\">\r\n                                            <p className=\"p-1\"><strong className='underline'>Area:</strong>  {area}  Acres </p>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Modal>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white flex flex-col m-4 md:w-1/4  rounded-lg overflow-hidden\">\r\n                    <h4 className=\"font-semibold text-lg text-center mb-4\">Plan Details</h4>\r\n                        <div className=\"flex h-auto mb-5 w-full overflow-y-auto\">\r\n                            <div className='p-4 text-gray-600'>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500  w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Category :</strong> {plan.category}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Type :</strong> {plan.type}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Prepared On :</strong> {plan.preparation_date}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Approved On :</strong> {plan.approved_date}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Area (Acres) :</strong> {plan.area}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Base Population :</strong> {plan.base_population}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Projected Population :</strong> {plan.projected_population}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Period :</strong> {plan.period_from} - {plan.period_till}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex h-auto w-full justify-center items-center mb-5\">\r\n                            <div className=\"h-52 w-full overflow-hidden\">\r\n                                <CanvasJSChart options={options} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col justify-center my-6\">\r\n                            <h4 className=\"font-semibold text-lg text-center mb-4\"> Download and View</h4>\r\n                            <div className=\"flex justify-around gap-6 items-center mb-4\">\r\n                                <a\r\n                                    href={`http://localhost:5000/api/${plan.data_url}`}\r\n                                    className=\"bg-gray-700  w-30 text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                                >\r\n                                    <span>Data</span>\r\n\r\n                                    <div className=\"w-4 h-4\">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            viewBox=\"0 0 20 20\"\r\n                                            fill=\"currentColor\"\r\n                                        >\r\n                                            <path\r\n\r\n                                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                            />\r\n                                        </svg>\r\n                                    </div>\r\n                                </a>\r\n                                <a\r\n                                    href={`http://localhost:5000/api/${plan.report_url}`}\r\n                                    className=\"bg-gray-700  duration-300 w-30 text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                                >\r\n                                    <span>Report</span>\r\n\r\n                                    <div className=\"w-4 h-4\">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            viewBox=\"0 0 20 20\"\r\n                                            fill=\"currentColor\"\r\n                                        >\r\n                                            <path\r\n\r\n                                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                            />\r\n                                        </svg>\r\n                                    </div>\r\n                                </a>\r\n                                <a\r\n                                    href={`/dashboard/plots/${plan.id}/${plot_gid}`}\r\n                                    className=\"bg-gray-700  duration-300 w-30 text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                                >\r\n                                    <span>Plot DCR</span>\r\n\r\n                                    <div className=\"w-4 h-4 \">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            viewBox=\"0 0 20 20\"\r\n                                            fill=\"currentColor\"\r\n                                        >\r\n                                            <path\r\n\r\n                                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                            />\r\n                                        </svg>\r\n                                    </div>\r\n                                </a>\r\n\r\n                            </div>\r\n                        </div>\r\n                        \r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\"\r\nimport Modal from 'react-modal';\r\nimport planService from \"../../../services/plan/plan.service\";\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\n\r\nconst PlanDetailView = () => {\r\n    const [plans, setPlans] = useState(\"\");\r\n    const [modalAddPlanIsOpen, setAddPlanIsOpen] = React.useState(false);\r\n   \r\n    // Plan\r\n    const [plan_name, SetName] = useState(\"\");\r\n    const [type, setType] = useState(\"\");\r\n    const [category, setCategory] = useState(\"\");\r\n    const [dzongkhag_id, setDzongkhag] = useState(\"\");\r\n    const [period_from, setPeriodfrom] = useState(\"\");\r\n    const [period_till, setPeriodtill] = useState(\"\");\r\n    const [projected_population, setPPopulation] = useState(\"\");\r\n    const [base_population, setBPopulation] = useState(\"\");\r\n    const [approved_date, setADate] = useState(\"\");\r\n    const [preparation_date, setPDate] = useState(\"\");\r\n    const [datafile, setDataurl] = useState(\"\");\r\n    const [report, setReportUrl] = useState(\"\");\r\n    const [area, setArea] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n\r\n        planService.getAll().then((res) => {\r\n            const data = res.data.plans;\r\n            setPlans(data);\r\n        });\r\n\r\n    }, [])\r\n\r\n    // Modal\r\n    function openAddPlanModal() {\r\n        setAddPlanIsOpen(true);\r\n    }\r\n    function closeAddPlanModal() {\r\n        setAddPlanIsOpen(false);\r\n    }\r\n\r\n    function deletePlan(id) {\r\n        planService.delete(id).then((res) => {\r\n            if (res.status === 201) {\r\n                toast.success(res.data.msg)\r\n            } else {\r\n                toast.error(res.data.msg)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // Plan\r\n\r\n    const handleName = (e) => {\r\n        SetName(e.target.value);\r\n    };\r\n    const handleType = (e) => {\r\n        setType(e.target.value);\r\n\r\n    };\r\n    const handleCategory = (e) => {\r\n        setCategory(e.target.value);\r\n\r\n    };\r\n\r\n    const handleDzongkhag = (e) => {\r\n        setDzongkhag(e.target.value);\r\n\r\n    };\r\n\r\n    const handleADate = (e) => {\r\n        setADate(e.target.value);\r\n\r\n    };\r\n    const handlePDate = (e) => {\r\n        setPDate(e.target.value);\r\n\r\n    };\r\n    const handlePpopulation = (e) => {\r\n        setPPopulation(e.target.value);\r\n\r\n    };\r\n    const handleBpopulation = (e) => {\r\n        setBPopulation(e.target.value);\r\n\r\n    };\r\n    const handlePeriodfrom = (e) => {\r\n        setPeriodfrom(e.target.value);\r\n\r\n    };\r\n\r\n    const handlePeriodtill = (e) => {\r\n        setPeriodtill(e.target.value);\r\n\r\n    };\r\n    const handleArea = (e) => {\r\n        setArea(e.target.value);\r\n\r\n    };\r\n    const handleDataurl = (e) => {\r\n        setDataurl(e.target.files[0]);\r\n    };\r\n    const handleReportUrl = (e) => {\r\n        setReportUrl(e.target.files[0]);\r\n    };\r\n\r\n    const submitAddPlanForm = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const data = new FormData;\r\n            data.append(\"datafile\", datafile);\r\n            data.append(\"plan_name\", plan_name);\r\n            data.append(\"type\", type);\r\n            data.append(\"category\", category);\r\n            data.append(\"dzongkhag_id\", dzongkhag_id);\r\n            data.append(\"period_from\", period_from);\r\n            data.append(\"period_till\", period_till);\r\n            data.append(\"base_population\", base_population);\r\n            data.append(\"projected_population\", projected_population);\r\n            data.append(\"preparation_date\", preparation_date);\r\n            data.append(\"approved_date\", approved_date);\r\n            data.append(\"report\", report);\r\n            data.append(\"area\", area);\r\n\r\n            planService.create(data).then((res) => {\r\n                if (res.status === 201) {\r\n                    setAddPlanIsOpen(false);\r\n                    toast.success(res.data.msg);\r\n\r\n                } else {\r\n                    setAddPlanIsOpen(false);\r\n                    toast.error(\"Some Error in creating Data\");\r\n                }\r\n            })\r\n        } catch (error) {\r\n            setAddPlanIsOpen(false);\r\n            toast.error('Some Error in sending Request to Server');\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex font-serif justify-around bg-gray-100 items-center h-screen\" >\r\n            <div className=\"bg-white bg-opacity-60 h-2/3 m-4 rounded-sm overflow-y-auto\">\r\n                <div className=\"flex justify-between items-center px-6 mx-6  py-3\">\r\n                    <h3 className=\"text-xs text-gray-500\">Plans of Bhutan</h3>\r\n                    <button onClick={openAddPlanModal}\r\n                        className=\"bg-gray-500  text-sm text-white hover:bg-gray-500 flex space-x-3 items-center px-4 py-1 rounded-sm  focus:outline-none\"\r\n                    >\r\n                        Add\r\n                    </button>\r\n\r\n                </div>\r\n                <table className=\"w-full\">\r\n                    <thead>\r\n                        <tr className=\"bg-gray-50\">\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\"px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider \"\r\n                            >\r\n                                Sl. No: (Plan ID)\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Name\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Type\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Category\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Preparation Date\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Approved Date\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Base Population\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Projected Population\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Area (Acres)\r\n                            </th>\r\n                            <th\r\n                                scope=\"col\"\r\n                                className=\" px-6  py-3 text-left text-xs font-medium text-gray-500 tracking-wider\"\r\n                            >\r\n                                Actions\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    {plans && (\r\n                        <tbody className=\"divide-y divide-gray-200\">\r\n                            {plans.map((item, index) => {\r\n                                return (\r\n                                    <tr key={index}>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {index + 1}  ({item.id})\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.plan_name}\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.type}\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.category}\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.preparation_date}\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.approved_date}\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.base_population}\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.projected_population}\r\n                                        </th>\r\n                                        <th\r\n                                            className=\"px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            {item.area}\r\n                                        </th>\r\n                                        <th className=\"flex gap-2 px-6 py-3 text-left text-xs text-gray-500 font-thin\"\r\n                                        >\r\n                                            <button onClick={() => deletePlan(item.id)} className=\"bg-gray-400  w-30 text-white rounded-sm hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\">\r\n                                                Delete\r\n                                                <div className=\"w-4 h-4\">\r\n                                                    <svg\r\n                                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                        viewBox=\"0 0 20 20\"\r\n                                                        fill=\"currentColor\"\r\n                                                    >\r\n                                                        <path\r\n\r\n                                                            d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                                        />\r\n                                                    </svg>\r\n                                                </div>\r\n                                            </button>\r\n                                        </th>\r\n                                    </tr>\r\n                                )\r\n                            })}\r\n                        </tbody>\r\n                    )}\r\n                </table>\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n            {/* add Plan */}\r\n            <Modal\r\n                isOpen={modalAddPlanIsOpen}\r\n                onRequestClose={closeAddPlanModal}\r\n                style={customStyles}\r\n            >\r\n                <div className=\"flex justify-around text-xs items-center\">\r\n                    <div className=\"w-full  h-full flex flex-col overflow-y-auto bg-white\">\r\n                        <div className=\"md:m-3\">\r\n                            <h2 className=\"text-lg mb-2 font-bold \"> Add New Plan\r\n                                <span className=\"text-xs  text-red-800  inline bg-gray-400 rounded-sm px-2 py-1 float-right\">\r\n                                    <button onClick={closeAddPlanModal}>\r\n                                        X\r\n                                    </button></span></h2>\r\n                        </div>\r\n                        <div className=\"w-2/3 mx-auto font-thin text-sm text-gray-700 hover:text-gray-900 transition-all duration-200\">\r\n\r\n                            <form onSubmit={submitAddPlanForm} enctype='multipart/form-data'>\r\n                                <div className=\"flex flex-wrap -m-2\">\r\n                                    <div className=\"p-2 w-full\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"name\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Plan Name\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                onChange={handleName}\r\n                                                value={plan_name}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"preparation_date\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Preparation Date\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                onChange={handlePDate}\r\n                                                value={preparation_date}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"approved_date\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Approved Date\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                onChange={handleADate}\r\n                                                value={approved_date}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label htmlFor=\"dzongkhag_id\" className=\"leading-7 text-sm text-gray-600\">\r\n                                                Dzongkhag\r\n                                            </label>\r\n                                            <select\r\n                                                onChange={handleDzongkhag}\r\n                                                value={dzongkhag_id}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            >\r\n                                                <option>Choose Dzongkhag</option>\r\n                                                <option value=\"1\">Bumthang</option>\r\n                                                <option value=\"2\">Chhukha</option>\r\n                                                <option value=\"3\">Dagana</option>\r\n                                                <option value=\"4\">Gasa</option>\r\n                                                <option value=\"5\">Haa</option>\r\n                                                <option value=\"6\">Lhuentse</option>\r\n                                                <option value=\"7\">Mongar</option>\r\n                                                <option value=\"8\">Paro</option>\r\n                                                <option value=\"9\">Pema Gatshel</option>\r\n                                                <option value=\"10\">Punakha</option>\r\n                                                <option value=\"11\">Samdrup Jongkhar</option>\r\n                                                <option value=\"12\">Samtse</option>\r\n                                                <option value=\"13\">Sarpang</option>\r\n                                                <option value=\"14\">Thimphu</option>\r\n                                                <option value=\"15\">Trashigang</option>\r\n                                                <option value=\"16\">Trongsa</option>\r\n                                                <option value=\"17\">Tsirang</option>\r\n                                                <option value=\"18\">Wangdue Phodrang</option>\r\n                                                <option value=\"19\">Trashi Yangtse</option>\r\n                                                <option value=\"20\">Zhemgang</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label htmlFor=\"type\" className=\"leading-7 text-sm text-gray-600\">\r\n                                                Type\r\n                                            </label>\r\n                                            <select\r\n                                                onChange={handleType}\r\n                                                value={type}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            >\r\n                                                <option>Choose Type</option>\r\n                                                <option value=\"Regional Plan\">Regional Plan</option>\r\n                                                <option value=\"Valley Development Plan\">Valley Development Plan</option>\r\n                                                <option value=\"Structure Plan\">Structure Plan</option>\r\n                                                <option value=\"Action Area Plan\">Action Area Plan</option>\r\n                                                <option value=\"Local Area Plan\">Local Area Plan</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label htmlFor=\"base_population\" className=\"leading-7 text-sm text-gray-600\">\r\n                                                Base Population\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                onChange={handleBpopulation}\r\n                                                value={base_population}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"projected_population\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Projected Population\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                onChange={handlePpopulation}\r\n                                                value={projected_population}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"Period_from\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Period From (Year)\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                onChange={handlePeriodfrom}\r\n                                                value={period_from}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"period_till\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Period Till (Year)\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                onChange={handlePeriodtill}\r\n                                                value={period_till}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"area\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Area (Acres)\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"any\"\r\n                                                onChange={handleArea}\r\n                                                value={area}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"p-2 w-1/2\">\r\n                                        <div className=\"relative\">\r\n                                            <label htmlFor=\"category\" className=\"leading-7 text-sm text-gray-600\">\r\n                                                Category\r\n                                            </label>\r\n                                            <select\r\n                                                onChange={handleCategory}\r\n                                                value={category}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            >\r\n                                                <option>Choose Category</option>\r\n                                                <option value=\"Dzongkhag Throm\">Dzongkhag Throm</option>\r\n                                                <option value=\"Yenlag Throm\">Yenlag Throm</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-full\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"datafile\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Attach Data\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"file\"\r\n                                                onChange={handleDataurl}\r\n                                                name={datafile}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-full\">\r\n                                        <div className=\"relative\">\r\n                                            <label\r\n                                                htmlFor=\"report\"\r\n                                                className=\"leading-7 text-sm text-gray-600\"\r\n                                            >\r\n                                                Attach Report\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"file\"\r\n                                                onChange={handleReportUrl}\r\n                                                name={report}\r\n                                                className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"p-2 w-full\">\r\n                                        <button type=\"submit\" className=\"flex mx-auto  text-white bg-blue-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg\">\r\n                                            Submit\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlanDetailView\r\n","import http from \"../common/http-common\"\r\n\r\nclass plotService {\r\n  getPlotByPlotId(plot_id) {\r\n    return http.get(`/api/get-plot/${plot_id}`);\r\n  }\r\n\r\n}\r\n\r\nexport default new plotService();","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from 'react-router-dom';\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorTileLayer from \"ol/layer/VectorTile\";\r\nimport MVT from 'ol/format/MVT';\r\nimport XYZSource from 'ol/source/XYZ'\r\nimport VectorTileSource from 'ol/source/VectorTile';\r\nimport { Fill, Icon, Stroke, Style, Text } from 'ol/style';\r\nimport * as olProj from 'ol/proj';\r\nimport Modal from 'react-modal';\r\nimport 'ol/ol.css';\r\nimport { defaults as defaultControls, ScaleLine, Control } from 'ol/control';\r\nimport { Group as LayerGroup } from 'ol/layer';\r\nimport { DragPan, MouseWheelZoom, defaults } from 'ol/interaction';\r\nimport { platformModifierKeyOnly } from 'ol/events/condition';\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport plotService from \"../../../services/plan/plot.service\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport { circular } from \"ol/geom/Polygon\";\r\nimport Feature from \"ol/Feature\";\r\nimport Point from \"ol/geom/Point\";\r\nimport { toast } from \"react-toastify\";\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: 'auto',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n};\r\n\r\n\r\n\r\nconst Home = () => {\r\n  const mapRef = useRef();\r\n  const [map, setMap] = useState(\"\");\r\n  const [lon, setX] = useState(\"\");\r\n  const [lat, setY] = useState(\"\");\r\n  const [lon1, setX1] = useState(\"\");\r\n  const [lat1, setY1] = useState(\"\");\r\n  const params = useParams();\r\n  const planId = params.plan_id;\r\n  const [plot_gid, setPlotGid] = useState(params.plot_gid);\r\n\r\n  const [plotId, setPlot] = useState(\"\");\r\n\r\n  // Plot View\r\n\r\n  const [max_height, setMaxHeight] = useState(\"\");\r\n  const [plot_id, setPlotId] = useState(\"\");\r\n  const [setback, setSetBack] = useState(\"\");\r\n  const [use, setUse] = useState(\"\");\r\n  const [precinct, setPrecinct] = useState(\"\"); useState(\"\");\r\n  const [coverage, setCoverage] = useState(\"\");\r\n  const [area, setPArea] = useState(\"\")\r\n  const [modalViewPlanIsOpen, setViewPlanIsOpen] = React.useState(false);\r\n\r\n  function closeViewPlanModal() {\r\n    setViewPlanIsOpen(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    let selection = {};\r\n    const planboundaryvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/plan-boundary/{z}/{x}/{y}.pbf`,\r\n        tileSize: 3072\r\n\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get('plan_id') === parseInt(planId)) {\r\n          const x = feature.get('x');\r\n          const y = feature.get('y');\r\n          setX(x)\r\n          setY(y)\r\n        }\r\n        if (feature.get(\"plan_id\") === parseInt(planId)) {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"red\",\r\n              width: 2\r\n            }),\r\n            text: new Text({\r\n              text: feature.get('plan'),\r\n            })\r\n\r\n          });\r\n        } else {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            })\r\n\r\n          });\r\n\r\n        }\r\n\r\n\r\n      }\r\n    });\r\n    const plotvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/plots/{z}/{x}/{y}.pbf`,\r\n        tileSize: 3072,\r\n\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get('gid') === parseInt(plot_gid)) {\r\n          const x = feature.get('x');\r\n          const y = feature.get('y');\r\n          setX1(x)\r\n          setY1(y)\r\n        }\r\n        if (feature.get(\"plan_id\") === parseInt(planId)) {\r\n          if (feature.get(\"gid\") === parseInt(plot_gid)) {\r\n            return new Style({\r\n              fill: new Fill({\r\n                color: 'red'\r\n              }),\r\n              stroke: new Stroke({\r\n                color: \"black\",\r\n                width: 2\r\n              }),\r\n              text: new Text({\r\n                text: feature.get('plot_id'),\r\n                placement: 'point',\r\n                textBaseline: 'middle',\r\n                font: 'bold 10px sans-serif'\r\n              })\r\n\r\n            });\r\n          } else {\r\n            return new Style({\r\n              fill: new Fill({\r\n                color: feature.get(\"color\")\r\n              }),\r\n              stroke: new Stroke({\r\n                color: 'black',\r\n                width: 1\r\n              }),\r\n              text: new Text({\r\n                text: feature.get('plot_id'),\r\n                placement: 'point',\r\n                textBaseline: 'middle',\r\n              })\r\n\r\n            });\r\n          }\r\n        } else {\r\n\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            }),\r\n\r\n          });\r\n\r\n        }\r\n\r\n\r\n      }\r\n    });\r\n    const roadvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/roads/{z}/{x}/{y}.pbf`,\r\n        tileSize: 3072,\r\n\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get(\"plan_id\") === parseInt(planId)) {\r\n          return new Style({\r\n            stroke: new Stroke({\r\n              color: \"#ADACAC\",\r\n              width: 4\r\n            }),\r\n            text: new Text({\r\n              text: feature.get('name'),\r\n              placement: 'line',\r\n              textBaseline: 'middle',\r\n              font: 'bold 10px sans-serif'\r\n            })\r\n\r\n          });\r\n        } else {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            })\r\n\r\n          });\r\n        }\r\n      }\r\n\r\n\r\n    });\r\n\r\n    const initialMap = new Map({\r\n      target: mapRef.current,\r\n      interactions: defaults({ dragPan: false, mouseWheelZoom: true }).extend([\r\n        new DragPan({\r\n          condition: function (event) {\r\n            return this.getPointerCount() === 1 || platformModifierKeyOnly(event);\r\n          },\r\n        }),\r\n        new MouseWheelZoom({\r\n          condition: platformModifierKeyOnly,\r\n        }),\r\n      ]),\r\n      layers: [\r\n        new TileLayer({\r\n          source: new XYZSource({\r\n            url: 'https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',\r\n            projection: 'EPSG:3857',\r\n          })\r\n        }),\r\n        new LayerGroup({\r\n          layers: [planboundaryvectorLayer]\r\n        }),\r\n\r\n        new LayerGroup({\r\n          layers: [plotvectorLayer]\r\n        }),\r\n        new LayerGroup({\r\n          layers: [roadvectorLayer]\r\n        }),\r\n      ],\r\n      controls: defaultControls().extend([new ScaleLine()]),\r\n      view: new View({\r\n        zoom: 9,\r\n        center: olProj.fromLonLat([90.8, 27.41]),\r\n        minZoom: 4,\r\n        maxZoom: 28\r\n      }),\r\n\r\n    })\r\n    setMap(initialMap)\r\n\r\n    const selectedCountry = new Style({\r\n      stroke: new Stroke({\r\n        color: 'rgba(200,20,20,0.8)',\r\n        width: 2,\r\n      }),\r\n      fill: new Fill({\r\n        color: 'rgba(200,20,20,0.4)',\r\n      }),\r\n    });\r\n    const selectionLayer = new VectorTileLayer({\r\n      map: initialMap,\r\n      renderMode: 'vector',\r\n      source: plotvectorLayer.getSource(),\r\n      style: function (feature) {\r\n        if (feature.get('gid') === selection) {\r\n          return selectedCountry;\r\n        }\r\n      },\r\n    });\r\n\r\n    initialMap.on(['click'], function (event) {\r\n      plotvectorLayer.getFeatures(event.pixel).then(function (features) {\r\n        if (!features.length) {\r\n          selection = {};\r\n          return;\r\n        }\r\n        const feature = features[0];\r\n        if (!feature) {\r\n          return;\r\n        }\r\n        if ('singleselect' === 0) {\r\n          selection = {};\r\n        }\r\n        selection = feature.get('gid');\r\n        selectionLayer.changed();\r\n      });\r\n    });\r\n\r\n\r\n  }, []);\r\n  useEffect(() => {\r\n    if (lon && lat) {\r\n      map.getView().setCenter(olProj.fromLonLat([lon, lat]));\r\n      map.getView().setZoom(16);\r\n      if (lat1 && lon1) {\r\n        map.getView().setCenter(olProj.fromLonLat([lon1, lat1]));\r\n        map.getView().setZoom(18)\r\n      }\r\n      map.on('singleclick', function (event) {\r\n        map.forEachFeatureAtPixel(\r\n          event.pixel,\r\n          function (feature) {\r\n            if (feature.get('layer') === \"plots\") {\r\n              if (feature.get('plan_id') === parseInt(planId)) {\r\n                setViewPlanIsOpen(true)\r\n                const gid = feature.get('gid');\r\n                setPlotGid(gid)\r\n                const plot_id = feature.get('plot_id');\r\n                setPlotId(plot_id)\r\n                const max_height = feature.get('max_height');\r\n                setMaxHeight(max_height)\r\n                const precinct = feature.get('precinct');\r\n                setPrecinct(precinct)\r\n                const coverage = feature.get('coverage');\r\n                setCoverage(coverage)\r\n                const setback = feature.get('setback');\r\n                setSetBack(setback)\r\n                const uses = feature.get('use');\r\n                setUse(uses)\r\n                const area = feature.get('area');\r\n                setPArea(area)\r\n              }\r\n            }\r\n          },\r\n          {\r\n            hitTolerance: 0,\r\n          }\r\n        );\r\n      });\r\n      ///Locate Button\r\n      const source = new VectorSource();\r\n      const layer = new VectorLayer({\r\n        source: source,\r\n      });\r\n      map.addLayer(layer);\r\n      const locateButton = document.createElement('div');\r\n      locateButton.className = 'ol-control ol-unselectable relative top-20 p-2 crouser-pointer left-2';\r\n      locateButton.innerHTML = '<button>◎</button>';\r\n      locateButton.addEventListener('click', function () {\r\n        navigator.geolocation.watchPosition(\r\n          function (position) {\r\n            const coords = [position.coords.longitude, position.coords.latitude];\r\n            map.getView().setCenter(olProj.fromLonLat([position.coords.longitude, position.coords.latitude]))\r\n            map.getView().setZoom(18)\r\n            const accuracy = circular(coords, position.coords.accuracy);\r\n            source.clear(true);\r\n            const locationFeature = new Feature({ geometry: new Point(olProj.fromLonLat(coords)) });\r\n            locationFeature.setStyle(new Style({\r\n              image: new Icon({\r\n                color: \"blue\",\r\n                opacity: \"0.5\",\r\n                crossOrigin: \"anonymous\",\r\n                src: 'https://openlayers.org/en/v4.6.5/examples/data/dot.png'\r\n              })\r\n            }))\r\n            const accuracyFeature = new Feature(accuracy.transform('EPSG:4326', map.getView().getProjection()));\r\n            source.addFeature(accuracyFeature);\r\n            source.addFeature(locationFeature);\r\n          },\r\n          function (error) {\r\n            alert(`ERROR: ${error.message} `);\r\n          },\r\n          {\r\n            enableHighAccuracy: true,\r\n          }\r\n        );\r\n      });\r\n      map.addControl(\r\n        new Control({\r\n          element: locateButton\r\n        })\r\n      );\r\n\r\n    }\r\n  })\r\n  const handlePlotId = (e) => {\r\n    setPlot(e.target.value);\r\n  };\r\n\r\n  const submitPlotID = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (plotId !== undefined) {\r\n        plotService.getPlotByPlotId(plotId).then((res) => {\r\n          const plot = res.data;\r\n          if (plot.plan_id == planId) {\r\n            setViewPlanIsOpen(true)\r\n            setPlotId(plot.plot_id);\r\n            setPlotGid(plot.gid);\r\n            setMaxHeight(plot.max_height);\r\n          } else {\r\n            toast.error('Plot ID Not Found')\r\n          }\r\n        });\r\n      } else {\r\n        toast.error('Please Enter Plot-ID');\r\n      }\r\n\r\n    } catch {\r\n      toast.error('Some Error in sending Request');\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex font-serif flex-col h-screen overflow-hidden\">\r\n        <div className=\"bg-gray-200 p-2 h-full w-full justify-center flex flex-col overflow-hidden\">\r\n          <div className=\"bg-white md:m-4 h-3/4 md:h-full rounded-lg overflow-hidden rounded-lg\">\r\n            <div className=\"flex flex-col md:flex-row h-full w-full justify-center overflow-hidden\">\r\n              <div ref={mapRef} className=\"w-full md:h-full h-full\"> </div>\r\n\r\n              <Modal\r\n                isOpen={modalViewPlanIsOpen}\r\n                onRequestClose={closeViewPlanModal}\r\n                style={customStyles}\r\n              >\r\n                <div className=\"flex justify-around items-center\">\r\n                  <div className=\"w-72 md:w-96 h-full\">\r\n                    <div className=\"md:m-3\">\r\n                      <h2 className=\"text-lg mb-2\">Plot DCR\r\n                        <span className=\"text-xs  text-red-800 font-serif  inline bg-gray-400 rounded-full px-2 py-1 float-right\">\r\n                          <button onClick={closeViewPlanModal}>\r\n                            X\r\n                          </button></span></h2>\r\n                    </div>\r\n                    <div className=\"w-full font-light font-serif text-sm text-gray-700 hover:text-gray-900 transition-all duration-200\">\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong> Plot ID:</strong> {plot_id}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong> Maximum Building Height:</strong> {max_height}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Coverage:</strong> {coverage}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Set Back:</strong> {setback}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong> Uses :</strong> {use}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Precinct:</strong> {precinct}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Area:</strong> {area} Acres</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex space-y-5 mt-6 justify-center items-center\">\r\n                        <a\r\n                          href={`/dashboard/plots/${planId}/${plot_gid}`}\r\n                          className=\"bg-gray-500 opacity-80 w-42 text-white rounded-full hover:bg-gray-600 px-3 py-2 flex items-center space-x-3\"\r\n                        >\r\n                          <span>Zoom To Plot</span>\r\n\r\n                          <div className=\"w-4 h-4\">\r\n                            <svg\r\n                              xmlns=\"http://www.w3.org/2000/svg\"\r\n                              viewBox=\"0 0 20 20\"\r\n                              fill=\"currentColor\"\r\n                            >\r\n                              <path\r\n\r\n                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                              />\r\n                            </svg>\r\n                          </div>\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Modal>\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"w-full flex justify-center\">\r\n            <div className=\"flex justify-center w-full my-2\">\r\n              <form onSubmit={submitPlotID} className=\"w-3/4 md:w-1/3 block relative\">\r\n                <div className=\"flex flex-row\">\r\n                  <input type=\"text\" onChange={handlePlotId} value={plotId} className=\"relative min-w-0 block w-3/4 px-5 py-4 text-base font-normal text-gray-800 bg-white bg-clip-padding border border-solid border-white rounded transition ease-in-out mr-2 focus:text-gray-800  focus:bg-gray-200  focus:outline-none\" placeholder=\"Search by Plot-ID...\" />\r\n                  <button type=\"submit\" className=\"px-6 py-3 bg-gray-100 bg-opacity-15 text-gray-800  font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-gray-300 hover:shadow-lg focus:bg-gray-300  focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out flex items-center\">\r\n                    <svg focusable=\"false\" dataprefix=\"fas\" dataicon=\"search\" className=\"w-4 text-gray-700\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                      <path fill=\"currentColor\" d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        \r\n      </div>\r\n      <ToastContainer autoClose={3000}\r\n        position=\"top-center\"\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover />\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default Home\r\n","export default __webpack_public_path__ + \"static/media/logo.32d4d529.png\";","import React, { useEffect, useRef, useState } from \"react\";\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorTileLayer from \"ol/layer/VectorTile\";\r\nimport MVT from 'ol/format/MVT';\r\nimport XYZSource from 'ol/source/XYZ'\r\nimport VectorTileSource from 'ol/source/VectorTile';\r\nimport { Fill, Stroke, Style, Text } from 'ol/style';\r\nimport * as olProj from 'ol/proj';\r\nimport 'ol/ol.css';\r\nimport { DragPan, MouseWheelZoom, defaults } from 'ol/interaction';\r\nimport { platformModifierKeyOnly } from 'ol/events/condition';\r\nimport { defaults as defaultControls } from 'ol/control';\r\nimport { Group as LayerGroup } from 'ol/layer';\r\nimport { CanvasJSChart } from \"canvasjs-react-charts\";\r\nimport LogoImage from \"../../../assets/logo.png\";\r\nimport planService from \"../../../services/plan/plan.service\";\r\n\r\n\r\n\r\nconst Home = () => {\r\n  const mapRef = useRef(\"\");\r\n  const [showSidebar, setShowSidebar] = useState(false);\r\n\r\n  const [chartData, setChartData] = useState(\"\");\r\n  const [chartData2, setChartData2] = useState(\"\");\r\n  const [map, setMap] = useState();\r\n  const [dzongkhag, setDzongkhag] = useState(\"\");\r\n  const [dzongkhagsplans, setDzongkhagsPlans] = useState(\"\");\r\n  const [plans, setPlans] = useState(\"\");\r\n  useEffect(() => {\r\n    let selection = {};\r\n    const dzongkahgboundaryvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/dzongkhag-boundary/{z}/{x}/{y}.pbf`,\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get(\"layers\") === \"dzongkhag_boundaries\") {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: feature.get('color')\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"black\",\r\n              width: \"0.1\"\r\n            }),\r\n            text: new Text({\r\n              text: feature.get('name'),\r\n              placement: 'point',\r\n            })\r\n          });\r\n        } else {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            }),\r\n\r\n          });\r\n\r\n        }\r\n\r\n\r\n      }\r\n    });\r\n\r\n\r\n\r\n    const initialMap = new Map({\r\n      target: mapRef.current,\r\n      interactions: defaults({ dragPan: false, mouseWheelZoom: true }).extend([\r\n        new DragPan({\r\n          condition: function (event) {\r\n            return this.getPointerCount() === 1 || platformModifierKeyOnly(event);\r\n          },\r\n        }),\r\n        new MouseWheelZoom({\r\n          condition: platformModifierKeyOnly,\r\n        }),\r\n      ]),\r\n      layers: [\r\n        new TileLayer({\r\n          source: new XYZSource({\r\n            url: 'https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',\r\n            projection: 'EPSG:3857',\r\n            attribution:' Develop By Hem Bdr. Bhattarai'\r\n           \r\n          })\r\n        }),\r\n        new LayerGroup({\r\n          layers: [dzongkahgboundaryvectorLayer]\r\n        }),\r\n      ],\r\n      controls: defaultControls(),\r\n      view: new View({\r\n        zoom: 9,\r\n        center: olProj.fromLonLat([90.7, 27.45]),\r\n        minZoom: 4,\r\n        maxZoom: 28\r\n      }),\r\n    })\r\n    setMap(initialMap)\r\n\r\n\r\n    const selectedCountry = new Style({\r\n      stroke: new Stroke({\r\n        color: 'rgba(200,20,20,0.8)',\r\n        width: 2,\r\n      }),\r\n      fill: new Fill({\r\n        color: 'rgba(200,20,20,0.4)',\r\n      }),\r\n    });\r\n    const selectionLayer = new VectorTileLayer({\r\n      map: initialMap,\r\n      renderMode: 'vector',\r\n      source: dzongkahgboundaryvectorLayer.getSource(),\r\n      style: function (feature) {\r\n        if (feature.get('dzo_id') === selection) {\r\n          return selectedCountry;\r\n        }\r\n      },\r\n    });\r\n\r\n    initialMap.on(['click'], function (event) {\r\n      dzongkahgboundaryvectorLayer.getFeatures(event.pixel).then(function (features) {\r\n        if (!features.length) {\r\n          selection = {};\r\n          return;\r\n        }\r\n        const feature = features[0];\r\n        if (!feature) {\r\n          return;\r\n        }\r\n        if ('singleselect' === 0) {\r\n          selection = {};\r\n        }\r\n        selection = feature.get('dzo_id');\r\n        selectionLayer.changed();\r\n      });\r\n    });\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    planService.getAll().then((res) => {\r\n      const data = res.data.plans;\r\n      setPlans(data);\r\n\r\n      let totalArea = 0;\r\n      for (var i = 0, len = data.length; i < len; i++) {\r\n        var dataArray = data[i].area;\r\n        totalArea += dataArray\r\n      }\r\n\r\n\r\n      let chart = [];\r\n      for (var y = 0, len2 = data.length; y < len2; y++) {\r\n        var dataChart = { y: (((data[y].area / totalArea) * 100).toFixed(2)), label: data[y].plan_name }\r\n        chart.push(dataChart)\r\n      }\r\n      setChartData(chart)\r\n    })\r\n\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      map.on('singleclick', function (event) {\r\n        map.forEachFeatureAtPixel(\r\n          event.pixel,\r\n          function (feature) {\r\n            if (feature.get('layers') === \"dzongkhag_boundaries\") {\r\n              const Id = feature.get('dzo_id');\r\n              const name = feature.get('name');\r\n              setDzongkhag(name);\r\n              if (Id) {\r\n                setShowSidebar(true);\r\n                planService.getByDzongkhagId(Id).then((res) => {\r\n                  const data = res.data.plans;\r\n                  setDzongkhagsPlans(data)\r\n                  let totalArea = 0;\r\n                  for (var i = 0, len = data.length; i < len; i++) {\r\n                    var dataArray = data[i].area;\r\n                    totalArea += dataArray\r\n                  }\r\n                  let chart2 = [];\r\n                  for (var y = 0, len2 = data.length; y < len2; y++) {\r\n                    var dataChart2 = { y: ((data[y].area / totalArea) * 100).toFixed(1), label: data[y].plan_name }\r\n                    chart2.push(dataChart2)\r\n                  }\r\n\r\n                  setChartData2(chart2)\r\n\r\n                })\r\n              }\r\n            }\r\n          },\r\n          {\r\n            hitTolerance: 0,\r\n          }\r\n        );\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  const pie = {\r\n    theme: \"light2\",\r\n    height: 280,\r\n    dataPointMaxWidth: 40,\r\n    data: [\r\n      {\r\n        type: \"pie\",\r\n        dataPoints: chartData2\r\n      },\r\n    ]\r\n  }\r\n\r\n  const doughnut = {\r\n    animationEnabled: true,\r\n    theme: \"light2\",\r\n    height: 180,\r\n    data: [{\r\n      type: \"doughnut\",\r\n      dataPoints: chartData\r\n    }]\r\n\r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"bg-gray-400 flex font-serif flex-col md:h-screen overflow-hidden\">\r\n\r\n\r\n      <div className=\"p-2 h-full w-full flex md:flex-row flex-col overflow-hidden\">\r\n        <div className=\"bg-white m-4 md:w-1/4  rounded-lg overflow-hidden\">\r\n          <div className=\"flex h-full flex-col \">\r\n            <div class=\"w-full flex mb-1 justify-center border-b-2 border-gray-500\">\r\n              <a href=\"/dashboard\" class=\"flex flex-col items-center text-gray-900 hover:text-gray-900\">\r\n                <img src={LogoImage} className=\"h-20 w-auto p-1\" alt=\"DHS\" />\r\n                <span class=\"font-bold text-center text-2xl\"> DHS | Plan Inventory System </span>\r\n              </a>\r\n            </div>\r\n          \r\n            <div className=\"flex md:h-3/5 h-72 w-full overflow-y-auto\">\r\n              <table class=\"min-w-full leading-normal\">\r\n                {plans && (\r\n                  <tbody className=\"flex flex-col justify-center items-center\">\r\n                    {plans.map((item, index) => {\r\n                      return (\r\n\r\n                        <tr key={index}\r\n                          class=\"border-t text-xs flex p-1 md:p-3 hover:bg-gray-100 md:table-row flex-col w-full flex-wrap\">\r\n\r\n                          <td class=\"flex flex-roww bg-white  w-full\">\r\n                            <label class=\" text-gray-500 Capitalize font-semibold mx-4 \">Plan Name : </label>\r\n                            <p class=\"text-gray-600 whitespace-no-wrap\">  {item.plan_name}</p>\r\n\r\n\r\n                          </td>\r\n                          <td class=\"flex flex-roww bg-white  w-full\">\r\n                            <label class=\"text-gray-500 Capitalize font-semibold mx-4 \">Areas in acres :</label>\r\n                            <p class=\"text-gray-900 whitespace-no-wrap\"> {item.area}</p>\r\n\r\n                          </td>\r\n                          <td class=\"flex flex-row bg-white w-full\">\r\n                            <label class=\"text-gray-500 Capitalize font-semibold mx-4\">Approved Date :</label>\r\n                            <p class=\"text-gray-900 whitespace-no-wrap\"> {item.approved_date}</p>\r\n\r\n                          </td>\r\n\r\n                          <td class=\"flex justify-end bg-white  w-full\">\r\n\r\n                            <a href={`/plan/${item.id}`} className=\"bg-gray-500 h-8 text-center opacity-80  text-white rounded-sm hover:bg-gray-100 hover:text-gray-800 px-2 py-1 flex items-center\">View</a>\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    })}\r\n                  </tbody>\r\n                )}\r\n              </table>\r\n            </div>\r\n            <div className=\"flex  my-1 w-full justify-center items-center\">\r\n              <a href=\"/dashboard/plans\" className=\"bg-gray-500 h-8 w-28 text-center opacity-80  text-white rounded-sm hover:bg-gray-100 hover:text-gray-800 px-2 py-1 flex items-center\">View Plans</a>\r\n            </div>\r\n            <div className=\"flex flex-col h-1/5  w-full justify-center items-center\">\r\n              <h1 className=\"text-gay-400 font-semibold my-1\">Planned Area in Percent(%) </h1>\r\n              <div className=\"h-52 w-full overflow-hidden\">\r\n                <CanvasJSChart options={doughnut} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white m-4 md:w-3/4  rounded-lg overflow-hidden rounded-lg\">\r\n          <div className=\"flex flex-col md:flex-row h-full w-full justify-center overflow-hidden\">\r\n            <div ref={mapRef} className=\"w-full md:h-full h-96\"> </div>\r\n            <div className={showSidebar ? \"top-0 right-0  w-full md:w-1/3 px-6 py-2  text-gray-900 relative h-full translate-x-0 z-60 my-2  ease-in-out duration-800\" : 'translate-x-full'}>\r\n\r\n              {dzongkhagsplans && (\r\n                <>\r\n                  <h1 className=\"text-gray-600 font-semibold\">Plans Under {dzongkhag} Dzongkhag</h1>\r\n\r\n                  <div className=\"h-2/4 py-1 overflow-y-auto\">\r\n                    {dzongkhagsplans.map((item, index) => {\r\n\r\n                      return (\r\n                        <div className=\"md:flex py-1 space-y-1 md:space-y-2 md:space-x-5 rounded-sm lg:space-x-10 mt-4 px-2 font-thin\">\r\n                          <div key={index} className=\"w-full border-b-1 border-gray-200 bg-gray-100 rounded-lg  p-4 space-y-1\">\r\n                            <h3 className=\"text-lg font-semibold\">\r\n                              <a href={`/dashboard/precinet/${item.id}`} >{item.plan_name}</a>\r\n                            </h3>\r\n                            <div className=\"text-sm font-thin m-0 p-0\">\r\n                              <p>Category: {item.category}</p>\r\n                              <p>Type: {item.type}</p>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end my-6 items-center\">\r\n                              <a\r\n                                href={`/dashboard/precinet/${item.id}`}\r\n                                className=\"bg-gray-500 opacity-80 px-2 py-1 text-white rounded-sm  hover:bg-gray-100 hover:text-gray-800  flex items-center space-x-3\"\r\n                              >\r\n                                <span>Precinet DCR</span>\r\n\r\n                                <div className=\"w-4 h-4 animate-pulse\">\r\n                                  <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    viewBox=\"0 0 20 20\"\r\n                                    fill=\"currentColor\"\r\n                                  >\r\n                                    <path\r\n\r\n                                      d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                              </a>\r\n\r\n                            </div>\r\n\r\n                          </div>\r\n\r\n                        </div>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                  <div className=\"h-2/4 flex flex-col justify-around items-center my-6\">\r\n                    <div className=\"flex flex-col justify-around items-center mt-2\">\r\n                      <h1 className=\"text-gay-600 font-semibold mb-4\">Planned Under {dzongkhag} Dzongkhag in Percent(%) </h1>\r\n\r\n                      <div className=\"h-72 w-full overflow-hidden\">\r\n                        <CanvasJSChart options={pie} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport LogoImage from \"../../assets/logo.png\";\r\nimport PropTypes from 'prop-types';\r\nimport authService from \"../../services/auth/auth.service\";\r\n\r\nconst Login = () => {    // ({setToken}) inside login ()\r\n  let navigate = useNavigate();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleEmail = (e) => {\r\n    setEmail(e.target.value);\r\n\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value)\r\n  };\r\n\r\n  const LoginForm = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password !== undefined || email !== undefined) {\r\n      if (email === \"dhs@2022\" && password === \"dhs@2022\") {\r\n        toast.success('Login Successfull');\r\n        return navigate('/dashboard')\r\n\r\n      } else {\r\n        toast.error('Opps ! Incorrect  Credintials Try Again')\r\n      }\r\n\r\n    } else {\r\n      toast.error('Opps ! Please Fill All Details')\r\n    }\r\n\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"flex font-serif items-center justify-center h-screen bg-no-repeat bg-cover\">\r\n\r\n        <div className=\"flex px-3  w-full md:w-1/4 flex-col items-center justify-center\">\r\n          <div className=\"flex flex-col bg-gray-100 shadow-md px-4 sm:px-6 md:px-8 lg:px-10 py-8 rounded-md w-full max-w-md\">\r\n            <div className=\"flex flex-col justify-center items-center\">\r\n              <img src={LogoImage} className=\"h-28 w-auto mb-2\" alt=\"DHS\" />\r\n              <h1 className=\"text-xl font-semibold\">DHS | Plan Inventory System</h1>\r\n            </div>\r\n            <div className=\"mt-10\">\r\n              <form onSubmit={LoginForm}>\r\n                <div className=\"flex flex-col mb-6\">\r\n                  <div className=\"relative\">\r\n                    <div className=\"inline-flex items-center justify-center absolute left-0 top-0 h-full w-10 text-gray-400\">\r\n                      <svg className=\"h-6 w-6\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path d=\"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207\" />\r\n                      </svg>\r\n                    </div>\r\n\r\n                    <input type=\"email\" onChange={handleEmail} value={email} className=\"text-sm sm:text-base placeholder-gray-500 pl-10 pr-4 rounded-lg border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400\" placeholder=\"E-Mail Address\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col mb-6\">\r\n                  <div className=\"relative\">\r\n                    <div className=\"inline-flex items-center justify-center absolute left-0 top-0 h-full w-10 text-gray-400\">\r\n                      <span>\r\n                        <svg className=\"h-6 w-6\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                        </svg>\r\n                      </span>\r\n                    </div>\r\n\r\n                    <input type=\"password\" onChange={handlePassword} value={password} className=\"text-sm sm:text-base placeholder-gray-500 pl-10 pr-4 rounded-lg border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400\" placeholder=\"Password\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex w-full\">\r\n                  <button type=\"submit\" className=\"flex items-center justify-center focus:outline-none text-white text-sm sm:text-base bg-gray-600 hover:bg-gray-700 rounded py-2 w-full transition duration-150 ease-in\">\r\n                    <span className=\"mr-2 uppercase\">Login</span>\r\n                    <span>\r\n                      <svg className=\"h-6 w-6\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path d=\"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ToastContainer autoClose={3000}\r\n          position=\"top-center\"\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover />\r\n      </div>\r\n\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default Login // ({setToken})\r\n\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n}","import http from \"../common/http-common\"\r\n\r\nclass authService {\r\n  LoginUser() {\r\n    return http.post(\"/api/auth/login\");\r\n  }\r\n\r\n \r\n\r\n}\r\n\r\nexport default new authService();","import http from \"../common/http-common\"\r\n\r\nclass activityService {\r\n  getAll() {\r\n    return http.get(\"/api/get-all-activities\");\r\n  }\r\n\r\n  getById(id) {\r\n    return http.get(`/api/get-activity/${id}`);\r\n  }\r\n\r\n  getByPlanId(id) {\r\n    return http.get(`/api/get-activity/plan/${id}`);\r\n  }\r\n\r\n  create(data) {\r\n    return http.post(\"/api/create-activity\", data);\r\n  }\r\n  upload(id , data) {\r\n    return http.put(`/api/upload/${id}`, data);\r\n  }\r\n\r\n  update(id, data) {\r\n    return http.put(`/api/update-activity/${id}`, data);\r\n  }\r\n\r\n  delete(id) {\r\n    return http.delete(`/api/delete-activity/${id}`);\r\n  }\r\n\r\n}\r\n\r\nexport default new activityService();","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { toast } from \"react-toastify\"\r\nimport planService from \"../../../services/plan/plan.service\";\r\nimport precinctService from \"../../../services/plan/precinct.service\";\r\nimport { CanvasJSChart } from \"canvasjs-react-charts\"\r\nimport Modal from 'react-modal';\r\nimport activityService from '../../../services/plan/activity.service';\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\n\r\nconst Dashboard = () => {\r\n    // Plan Details\r\n    const [plan, SetPlans] = useState(\"\");\r\n    const [activities, SetActivity] = useState(\"\");\r\n    const [chartData, setChartData] = useState(\"\");\r\n    /// Map View\r\n    const params = useParams();\r\n    const plandId = params.id;\r\n    const [plot_gid] = useState(\"none\");\r\n\r\n    const [phase, SetPhase] = useState(\"\");\r\n    const [description, SetDescription] = useState(\"\");\r\n    const [estd_budget, SetBudget] = useState(\"\");\r\n    // Modal\r\n\r\n    const [modalAddIsOpen, setAddIsOpen] = React.useState(false);\r\n\r\n    function openAddModal() {\r\n        setAddIsOpen(true);\r\n    }\r\n    function closeAddModal() {\r\n        setAddIsOpen(false);\r\n    }\r\n\r\n\r\n    const handlePhase = (e) => {\r\n        SetPhase(e.target.value);\r\n    };\r\n\r\n    const handleDescription = (e) => {\r\n        SetDescription(e.target.value);\r\n    };\r\n\r\n    const handleBudget = (e) => {\r\n        SetBudget(e.target.value);\r\n    };\r\n\r\n\r\n    const submitActivityForm = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const data = {\r\n                \"phase\": phase,\r\n                \"plan_id\": parseInt(plandId),\r\n                \"description\": description,\r\n                \"estd_budget\": estd_budget,\r\n            }\r\n\r\n            console.log(data)\r\n            activityService.create(data).then((res) => {\r\n                if (res.status === 201) {\r\n\r\n\r\n                    setAddIsOpen(false);\r\n                    toast.success(res.data.msg);\r\n\r\n                } else {\r\n                    setAddIsOpen(false);\r\n                    toast.error(\"Some Error in creating Data\");\r\n                }\r\n            })\r\n        } catch (error) {\r\n            setAddIsOpen(false);\r\n            toast.error('Some Error in sending Request to Server');\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        planService.getById(plandId).then((res) => {\r\n            const data = res.data.plan;\r\n            SetPlans(data)\r\n        });\r\n\r\n\r\n        activityService.getByPlanId(plandId).then((res) => {\r\n            const data = res.data.activities;\r\n            console.log(data)\r\n            SetActivity(data)\r\n        });\r\n\r\n        precinctService.getByPlanId(plandId).then((res) => {\r\n            const data = res.data;\r\n\r\n            let totalArea = 0;\r\n            for (var i = 0, len = data.length; i < len; i++) {\r\n                var dataArray = parseInt(data[i].area);\r\n                totalArea += dataArray\r\n            }\r\n            let chart = [];\r\n            for (var y = 0, len2 = data.length; y < len2; y++) {\r\n                var dataChart = { y: (((parseInt(data[y].area) / totalArea) * 100).toFixed(4)), label: data[y].precinct }\r\n                chart.push(dataChart)\r\n            }\r\n            setChartData(chart)\r\n        })\r\n\r\n    }, []);\r\n\r\n\r\n    const options = {\r\n        theme: \"light2\",\r\n        height: 230,\r\n        data: [{\r\n            type: \"pie\",\r\n            indexLabel: `{label}`,\r\n            fontFamily: 'sans-serif',\r\n            dataPoints: chartData\r\n        }]\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex font-serif flex-col md:h-screen overflow-hidden\">\r\n            <div class=\"bg-gray-200 w-full flex justify-center\">\r\n                <a href={`/dashboard/precinet/${plan.id}`} class=\"flex flex-col items-center py-5 p-4 text-gray-700 hover:text-gray-900\">\r\n                    <span class=\"font-bold  text-2xl\">{plan.plan_name}</span>\r\n                </a>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-400 p-2 h-full w-full flex md:flex-row flex-col overflow-hidden\">\r\n\r\n                {/* <div className=\"bg-white m-4 md:w-2/6 rounded-lg overflow-hidden\">\r\n                    Activities\r\n                </div> */}\r\n                <div className=\"bg-white m-4 md:w-3/4  rounded-lg overflow-hidden rounded-lg\">\r\n                    <div className=\"flex flex-col  h-full w-full overflow-hidden\">\r\n                        <div className=\"w-full flex justify-between flex-row p-2 border-b-2 border-gray-500\">\r\n                            <h4 className=\"font-semibold  text-2xl text-center \"> Activities</h4>\r\n                            <button onClick={openAddModal}\r\n                                className=\"bg-gray-700  w-30 text-white rounded-lg hover:bg-gray-900 hover:text-white p-4 py-1 flex items-center\"\r\n                            >\r\n                                <span>Add</span>\r\n                            </button>\r\n\r\n                        </div>\r\n                        {activities && (\r\n\r\n\r\n                            < div class=\"flex flex-col md:h-full h-96 overflow-y-auto\">\r\n                                {activities.map((item, index) => {\r\n                                    return (\r\n                                        <div class=\"p-4\" key={index}>\r\n                                            <h1 class=\"text-center text-lg  my-3 lg:mt-4\">{item.phase}</h1>\r\n                                            <p class=\"text-sm mb-4\"><strong>Description :</strong> {item.description}</p>\r\n                                            <p class=\"text-sm mb-2\">  <strong> Estimated Budget: </strong> Nu. {item.estd_budget} millions </p>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white flex flex-col m-4 md:w-2/4  rounded-lg overflow-hidden\">\r\n                    <h4 className=\"font-semibold text-2xl text-center my-3 border-b-2 border-gray-500\">Plan Details</h4>\r\n                    <div className=\"flex h-auto mb-5 w-full overflow-y-auto\">\r\n                        <div className='p-4 text-gray-600'>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500  w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Category :</strong> {plan.category}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Type :</strong> {plan.type}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Prepared On :</strong> {plan.preparation_date}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Approved On :</strong> {plan.approved_date}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Area (Acres) :</strong> {plan.area}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Base Population :</strong> {plan.base_population}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Projected Population :</strong> {plan.projected_population}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Period :</strong> {plan.period_from} - {plan.period_till}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex h-auto w-full justify-center items-center mb-5\">\r\n                        <div className=\"h-52 w-full overflow-hidden\">\r\n                            <CanvasJSChart options={options} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col justify-center my-6\">\r\n                        <h4 className=\"font-semibold text-lg text-center mb-4\"> Download and View</h4>\r\n                        <div className=\"flex justify-around gap-2 items-center mb-4\">\r\n                            <a\r\n                                href={`http://localhost:5000/api/${plan.data_url}`}\r\n                                className=\"bg-gray-700  text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                            >\r\n                                <span>Data</span>\r\n\r\n                                <div className=\"w-4 h-4\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        viewBox=\"0 0 20 20\"\r\n                                        fill=\"currentColor\"\r\n                                    >\r\n                                        <path\r\n\r\n                                            d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            </a>\r\n                            <a\r\n                                href={`http://localhost:5000/api/${plan.report_url}`}\r\n                                className=\"bg-gray-700  text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                            >\r\n                                <span>Report</span>\r\n\r\n                                <div className=\"w-4 h-4\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        viewBox=\"0 0 20 20\"\r\n                                        fill=\"currentColor\"\r\n                                    >\r\n                                        <path\r\n\r\n                                            d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            </a>\r\n                            <a\r\n                                href={`/dashboard/plots/${plan.id}/${plot_gid}`}\r\n                                className=\"bg-gray-700   text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                            >\r\n                                <span>Plot DCR</span>\r\n\r\n                                <div className=\"w-4 h-4 \">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        viewBox=\"0 0 20 20\"\r\n                                        fill=\"currentColor\"\r\n                                    >\r\n                                        <path\r\n\r\n                                            d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            </a>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                {/* add Plan */}\r\n                <Modal\r\n                    isOpen={modalAddIsOpen}\r\n                    onRequestClose={closeAddModal}\r\n                    style={customStyles}\r\n                >\r\n                    <div className=\"flex justify-around text-xs items-center\">\r\n                        <div className=\"w-full  h-full flex flex-col overflow-y-auto bg-white\">\r\n                            <div className=\"md:m-3\">\r\n                                <h2 className=\"text-lg mb-2 font-bold \"> Add New Activity\r\n                                    <span className=\"text-xs  text-red-800  inline bg-gray-400 rounded-sm p-4 py-1 float-right\">\r\n                                        <button onClick={closeAddModal}>\r\n                                            X\r\n                                        </button></span></h2>\r\n                            </div>\r\n                            <div className=\"w-2/3 mx-auto font-thin text-sm text-gray-700 hover:text-gray-900 transition-all duration-200\">\r\n\r\n                                <form onSubmit={submitActivityForm} enctype='multipart/form-data'>\r\n                                    <div className=\"flex flex-wrap -m-2\">\r\n                                        <div className=\"p-2 w-full\">\r\n                                            <div className=\"relative\">\r\n                                                <label\r\n                                                    htmlFor=\"phase\"\r\n                                                    className=\"leading-7 text-sm text-gray-600\"\r\n                                                >\r\n                                                    Phase\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    onChange={handlePhase}\r\n                                                    value={phase}\r\n                                                    className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"p-2 w-full\">\r\n                                            <div className=\"relative\">\r\n                                                <label\r\n                                                    htmlFor=\"description\"\r\n                                                    className=\"leading-7 text-sm text-gray-600\"\r\n                                                >\r\n                                                    Description\r\n                                                </label>\r\n                                                <textarea\r\n                                                    type=\"text\"\r\n                                                    step=\"any\"\r\n                                                    onChange={handleDescription}\r\n                                                    value={description}\r\n                                                    rows=\"8\"\r\n                                                    className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                                > </textarea>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"p-2 w-full\">\r\n                                            <div className=\"relative\">\r\n                                                <label\r\n                                                    htmlFor=\"estd_budget\"\r\n                                                    className=\"leading-7 text-sm text-gray-600\"\r\n                                                >\r\n                                                    Estimated Budget (Millions)\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"number\"\r\n                                                    step=\"any\"\r\n                                                    onChange={handleBudget}\r\n                                                    value={estd_budget}\r\n                                                    className=\"w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"p-2 w-full\">\r\n                                            <button type=\"submit\" className=\"flex mx-auto  text-white bg-blue-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg\">\r\n                                                Submit\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorTileLayer from \"ol/layer/VectorTile\";\r\nimport MVT from 'ol/format/MVT';\r\nimport XYZSource from 'ol/source/XYZ'\r\nimport VectorTileSource from 'ol/source/VectorTile';\r\nimport { Fill, Stroke, Style, Text } from 'ol/style';\r\nimport * as olProj from 'ol/proj';\r\nimport 'ol/ol.css';\r\nimport { DragPan, MouseWheelZoom, defaults } from 'ol/interaction';\r\nimport { platformModifierKeyOnly } from 'ol/events/condition';\r\nimport { defaults as defaultControls } from 'ol/control';\r\nimport { Group as LayerGroup } from 'ol/layer';\r\nimport { CanvasJSChart } from \"canvasjs-react-charts\";\r\nimport LogoImage from \"../../../assets/logo.png\";\r\nimport planService from \"../../../services/plan/plan.service\";\r\n\r\n\r\n\r\nconst Home = () => {\r\n  const mapRef = useRef(\"\");\r\n  const [showSidebar, setShowSidebar] = useState(false);\r\n\r\n  const [chartData, setChartData] = useState(\"\");\r\n  const [chartData2, setChartData2] = useState(\"\");\r\n  const [map, setMap] = useState();\r\n  const [dzongkhag, setDzongkhag] = useState(\"\");\r\n  const [dzongkhagsplans, setDzongkhagsPlans] = useState(\"\");\r\n  const [plans, setPlans] = useState(\"\");\r\n  useEffect(() => {\r\n    let selection = {};\r\n    const dzongkahgboundaryvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/dzongkhag-boundary/{z}/{x}/{y}.pbf`,\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get(\"layers\") === \"dzongkhag_boundaries\") {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: feature.get('color')\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"black\",\r\n              width: \"0.1\"\r\n            }),\r\n            text: new Text({\r\n              text: feature.get('name'),\r\n              placement: 'point',\r\n            })\r\n          });\r\n        } else {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            }),\r\n\r\n          });\r\n\r\n        }\r\n\r\n\r\n      }\r\n    });\r\n\r\n\r\n\r\n    const initialMap = new Map({\r\n      target: mapRef.current,\r\n      interactions: defaults({ dragPan: false, mouseWheelZoom: true }).extend([\r\n        new DragPan({\r\n          condition: function (event) {\r\n            return this.getPointerCount() === 1 || platformModifierKeyOnly(event);\r\n          },\r\n        }),\r\n        new MouseWheelZoom({\r\n          condition: platformModifierKeyOnly,\r\n        }),\r\n      ]),\r\n      layers: [\r\n        new TileLayer({\r\n          source: new XYZSource({\r\n            url: 'https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',\r\n            projection: 'EPSG:3857',\r\n           \r\n          })\r\n        }),\r\n        new LayerGroup({\r\n          layers: [dzongkahgboundaryvectorLayer]\r\n        }),\r\n      ],\r\n      controls: defaultControls(),\r\n      view: new View({\r\n        zoom: 9,\r\n        center: olProj.fromLonLat([90.7, 27.45]),\r\n        minZoom: 4,\r\n        maxZoom: 28\r\n      }),\r\n    })\r\n    setMap(initialMap)\r\n\r\n\r\n    const selectedCountry = new Style({\r\n      stroke: new Stroke({\r\n        color: 'rgba(200,20,20,0.8)',\r\n        width: 2,\r\n      }),\r\n      fill: new Fill({\r\n        color: 'rgba(200,20,20,0.4)',\r\n      }),\r\n    });\r\n    const selectionLayer = new VectorTileLayer({\r\n      map: initialMap,\r\n      renderMode: 'vector',\r\n      source: dzongkahgboundaryvectorLayer.getSource(),\r\n      style: function (feature) {\r\n        if (feature.get('dzo_id') === selection) {\r\n          return selectedCountry;\r\n        }\r\n      },\r\n    });\r\n\r\n    initialMap.on(['click'], function (event) {\r\n      dzongkahgboundaryvectorLayer.getFeatures(event.pixel).then(function (features) {\r\n        if (!features.length) {\r\n          selection = {};\r\n          return;\r\n        }\r\n        const feature = features[0];\r\n        if (!feature) {\r\n          return;\r\n        }\r\n        if ('singleselect' === 0) {\r\n          selection = {};\r\n        }\r\n        selection = feature.get('dzo_id');\r\n        selectionLayer.changed();\r\n      });\r\n    });\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    planService.getAll().then((res) => {\r\n      const data = res.data.plans;\r\n      setPlans(data);\r\n\r\n      let totalArea = 0;\r\n      for (var i = 0, len = data.length; i < len; i++) {\r\n        var dataArray = data[i].area;\r\n        totalArea += dataArray\r\n      }\r\n\r\n\r\n      let chart = [];\r\n      for (var y = 0, len2 = data.length; y < len2; y++) {\r\n        var dataChart = { y: (((data[y].area / totalArea) * 100).toFixed(2)), label: data[y].plan_name }\r\n        chart.push(dataChart)\r\n      }\r\n      setChartData(chart)\r\n    })\r\n\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      map.on('singleclick', function (event) {\r\n        map.forEachFeatureAtPixel(\r\n          event.pixel,\r\n          function (feature) {\r\n            if (feature.get('layers') === \"dzongkhag_boundaries\") {\r\n              const Id = feature.get('dzo_id');\r\n              const name = feature.get('name');\r\n              setDzongkhag(name);\r\n              if (Id) {\r\n                setShowSidebar(true);\r\n                planService.getByDzongkhagId(Id).then((res) => {\r\n                  const data = res.data.plans;\r\n                  setDzongkhagsPlans(data)\r\n                  let totalArea = 0;\r\n                  for (var i = 0, len = data.length; i < len; i++) {\r\n                    var dataArray = data[i].area;\r\n                    totalArea += dataArray\r\n                  }\r\n                  let chart2 = [];\r\n                  for (var y = 0, len2 = data.length; y < len2; y++) {\r\n                    var dataChart2 = { y: ((data[y].area / totalArea) * 100).toFixed(1), label: data[y].plan_name }\r\n                    chart2.push(dataChart2)\r\n                  }\r\n\r\n                  setChartData2(chart2)\r\n\r\n                })\r\n              }\r\n            }\r\n          },\r\n          {\r\n            hitTolerance: 0,\r\n          }\r\n        );\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  const pie = {\r\n    theme: \"light2\",\r\n    height: 280,\r\n    dataPointMaxWidth: 40,\r\n    data: [\r\n      {\r\n        type: \"pie\",\r\n        dataPoints: chartData2\r\n      },\r\n    ]\r\n  }\r\n\r\n  const doughnut = {\r\n    animationEnabled: true,\r\n    theme: \"light2\",\r\n    height: 180,\r\n    data: [{\r\n      type: \"doughnut\",\r\n      dataPoints: chartData\r\n    }]\r\n\r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"bg-gray-400 flex font-serif flex-col md:h-screen overflow-hidden\">\r\n\r\n\r\n      <div className=\"p-2 h-full w-full flex md:flex-row flex-col overflow-hidden\">\r\n        <div className=\"bg-white m-4 md:w-1/4  rounded-lg overflow-hidden\">\r\n          <div className=\"flex h-full flex-col \">\r\n            <div class=\"w-full flex mb-1 justify-center border-b-2 border-gray-500\">\r\n              <a href=\"/dashboard\" class=\"flex flex-col items-center text-gray-900 hover:text-gray-900\">\r\n                <img src={LogoImage} className=\"h-20 w-auto p-1\" alt=\"DHS\" />\r\n                <span class=\"font-bold text-center text-2xl\"> DHS | Plan Inventory System </span>\r\n              </a>\r\n            </div>\r\n          \r\n            <div className=\"flex md:h-3/5 h-72 w-full overflow-y-auto\">\r\n              <table class=\"min-w-full leading-normal\">\r\n                {plans && (\r\n                  <tbody className=\"flex flex-col justify-center items-center\">\r\n                    {plans.map((item, index) => {\r\n                      return (\r\n\r\n                        <tr key={index}\r\n                          class=\"border-t text-xs flex p-1 md:p-3 hover:bg-gray-100 md:table-row flex-col w-full flex-wrap\">\r\n                  \r\n                          <td class=\"flex flex-roww bg-white  w-full\">\r\n                            <label class=\" text-gray-500 Capitalize font-semibold mx-4 \">Plan Name : </label>\r\n                            <p class=\"text-gray-600 whitespace-no-wrap\">  {item.plan_name}</p>\r\n\r\n\r\n                          </td>\r\n                          <td class=\"flex flex-roww bg-white  w-full\">\r\n                            <label class=\"text-gray-500 Capitalize font-semibold mx-4 \">Areas in acres :</label>\r\n                            <p class=\"text-gray-900 whitespace-no-wrap\"> {item.area}</p>\r\n\r\n                          </td>\r\n                          <td class=\"flex flex-row bg-white w-full\">\r\n                            <label class=\"text-gray-500 Capitalize font-semibold mx-4\">Approved Date :</label>\r\n                            <p class=\"text-gray-900 whitespace-no-wrap\"> {item.approved_date}</p>\r\n\r\n                          </td>\r\n\r\n                          <td class=\"flex justify-end bg-white  w-full\">\r\n                           \r\n                            <a href={`/plan/${item.id}`} className=\"bg-gray-500 h-8 text-center opacity-80  text-white rounded-sm hover:bg-gray-100 hover:text-gray-800 px-2 py-1 flex items-center\">View</a>\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    })}\r\n                  </tbody>\r\n                )}\r\n              </table>\r\n\r\n            </div>\r\n            <div className=\"flex flex-col h-1/5  w-full justify-center items-center\">\r\n              <h1 className=\"text-gay-400 font-semibold my-1\">Planned Area in Percent(%) </h1>\r\n              <div className=\"h-52 w-full overflow-hidden\">\r\n                <CanvasJSChart options={doughnut} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white m-4 md:w-3/4  rounded-lg overflow-hidden rounded-lg\">\r\n          <div className=\"flex flex-col md:flex-row h-full w-full justify-center overflow-hidden\">\r\n            <div ref={mapRef} className=\"w-full md:h-full h-96\"> </div>\r\n            <div className={showSidebar ? \"top-0 right-0  w-full md:w-1/3 px-6 py-2  text-gray-900 relative h-full translate-x-0 z-60 my-2  ease-in-out duration-800\" : 'translate-x-full'}>\r\n\r\n              {dzongkhagsplans && (\r\n                <>\r\n                  <h1 className=\"text-gray-600 font-semibold\">Plans Under {dzongkhag} Dzongkhag</h1>\r\n\r\n                  <div className=\"h-2/4 py-1 overflow-y-auto\">\r\n                    {dzongkhagsplans.map((item, index) => {\r\n\r\n                      return (\r\n                        <div className=\"md:flex py-1 space-y-1 md:space-y-2 md:space-x-5 rounded-sm lg:space-x-10 mt-4 px-2 font-thin\">\r\n                          <div key={index} className=\"w-full border-b-1 border-gray-200 bg-gray-100 rounded-lg  p-4 space-y-1\">\r\n                            <h3 className=\"text-lg font-semibold\">\r\n                              <a href={`/precinet/${item.id}`} >{item.plan_name}</a>\r\n                            </h3>\r\n                            <div className=\"text-sm font-thin m-0 p-0\">\r\n                              <p>Category: {item.category}</p>\r\n                              <p>Type: {item.type}</p>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end my-6 items-center\">\r\n                              <a\r\n                                href={`/precinet/${item.id}`}\r\n                                className=\"bg-gray-500 opacity-80 px-2 py-1 text-white rounded-sm  hover:bg-gray-100 hover:text-gray-800  flex items-center space-x-3\"\r\n                              >\r\n                                <span>Precinet DCR</span>\r\n\r\n                                <div className=\"w-4 h-4 animate-pulse\">\r\n                                  <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    viewBox=\"0 0 20 20\"\r\n                                    fill=\"currentColor\"\r\n                                  >\r\n                                    <path\r\n\r\n                                      d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                              </a>\r\n\r\n                            </div>\r\n\r\n                          </div>\r\n\r\n                        </div>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                  <div className=\"h-2/4 flex flex-col justify-around items-center my-6\">\r\n                    <div className=\"flex flex-col justify-around items-center mt-2\">\r\n                      <h1 className=\"text-gay-600 font-semibold mb-4\">Planned Under {dzongkhag} Dzongkhag in Percent(%) </h1>\r\n\r\n                      <div className=\"h-72 w-full overflow-hidden\">\r\n                        <CanvasJSChart options={pie} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom'\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorTileLayer from \"ol/layer/VectorTile\";\r\nimport MVT from 'ol/format/MVT';\r\nimport XYZSource from 'ol/source/XYZ'\r\nimport VectorTileSource from 'ol/source/VectorTile';\r\nimport { Fill, Stroke, Style, Text } from 'ol/style';\r\nimport { DragPan, MouseWheelZoom, defaults } from 'ol/interaction';\r\nimport { platformModifierKeyOnly } from 'ol/events/condition';\r\nimport Modal from 'react-modal';\r\nimport * as olProj from 'ol/proj';\r\nimport 'ol/ol.css';\r\nimport { defaults as defaultControls, ScaleLine } from 'ol/control';\r\nimport { Group as LayerGroup } from 'ol/layer';\r\nimport planService from \"../../../services/plan/plan.service\";\r\nimport precinctService from \"../../../services/plan/precinct.service\";\r\nimport { CanvasJSChart } from \"canvasjs-react-charts\"\r\n\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\nconst Dashboard = () => {\r\n    // Plan Details\r\n    const [plan, SetPlans] = useState(\"\");\r\n    const [chartData, setChartData] = useState(\"\");\r\n    /// Map View\r\n    const mapRef = useRef();\r\n    const [map, setMap] = useState(\"\");\r\n    const [lon, setX] = useState(\"\");\r\n    const [lat, setY] = useState(\"\");\r\n    const [plot_gid] = useState(\"none\");\r\n    const [modalViewPlanIsOpen, setViewPlanIsOpen] = React.useState(false);\r\n    const params = useParams();\r\n    const plandId = params.id;\r\n\r\n    // Precinet\r\n    const [precinct, setPrecinct] = useState(false);\r\n    const [description, setPDescription] = useState(false);\r\n    const [area, setPArea] = useState(false);\r\n\r\n    function closeViewPlanModal() {\r\n        setViewPlanIsOpen(false);\r\n    }\r\n    useEffect(() => {\r\n        let selection = {};\r\n        const planboundaryvectorLayer = new VectorTileLayer({\r\n            source: new VectorTileSource({\r\n                format: new MVT(),\r\n                url: `http://localhost:5000/api/plan-boundary/{z}/{x}/{y}.pbf`,\r\n                tileSize: 4096\r\n\r\n            }),\r\n            style: function simpleStyle(feature) {\r\n\r\n                if (feature.get('plan_id') === parseInt(plandId)) {\r\n                    const x = feature.get('x');\r\n                    const y = feature.get('y');\r\n                    setX(x)\r\n                    setY(y)\r\n                }\r\n\r\n                if (feature.get(\"plan_id\") === parseInt(plandId)) {\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: 'transparent'\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: \"red\",\r\n                            width: 1\r\n                        }),\r\n\r\n                    });\r\n                } else {\r\n\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: 'transparent'\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: \"transparent\"\r\n                        })\r\n\r\n                    });\r\n\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n\r\n        const precintvectorLayer = new VectorTileLayer({\r\n            source: new VectorTileSource({\r\n                format: new MVT(),\r\n                url: `http://localhost:5000/api/precincts/{z}/{x}/{y}.pbf`,\r\n                tileSize: 1536\r\n            }),\r\n            style: function simpleStyle(feature) {\r\n                if (feature.get(\"plan_id\") === parseInt(plandId)) {\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: feature.get('color'),\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: feature.get('color'),\r\n                            width: 0.1\r\n                        }),\r\n                        text: new Text({\r\n                            text: feature.get('precinct')\r\n                        })\r\n\r\n                    });\r\n                } else {\r\n                    return new Style({\r\n                        fill: new Fill({\r\n                            color: \"transparent\",\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: \"transparent\"\r\n                        }),\r\n\r\n                    });\r\n\r\n                }\r\n\r\n\r\n            },\r\n\r\n        });\r\n        const initialMap = new Map({\r\n            target: mapRef.current,\r\n            interactions: defaults({ dragPan: false, mouseWheelZoom: true }).extend([\r\n                new DragPan({\r\n                    condition: function (event) {\r\n                        return this.getPointerCount() === 1 || platformModifierKeyOnly(event);\r\n                    },\r\n                }),\r\n                new MouseWheelZoom({\r\n                    condition: platformModifierKeyOnly,\r\n                }),\r\n            ]),\r\n            layers: [\r\n                new TileLayer({\r\n                    source: new XYZSource({\r\n                        url: 'https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',\r\n                        projection: 'EPSG:3857',\r\n\r\n                    })\r\n                }),\r\n                new LayerGroup({\r\n                    layers:\r\n                        [planboundaryvectorLayer, precintvectorLayer],\r\n                }),\r\n            ],\r\n            controls: defaultControls().extend([new ScaleLine()]),\r\n            view: new View({\r\n                zoom: 9,\r\n                center: olProj.fromLonLat([90.3, 27.3]),\r\n                minZoom: 2,\r\n                maxZoom: 60\r\n            }),\r\n\r\n        })\r\n        setMap(initialMap)\r\n\r\n        const selectedCountry = new Style({\r\n            stroke: new Stroke({\r\n                color: 'rgba(200,20,20,0.8)',\r\n                width: 2,\r\n            }),\r\n            fill: new Fill({\r\n                color: 'rgba(200,20,20,0.4)',\r\n            }),\r\n        });\r\n        const selectionLayer = new VectorTileLayer({\r\n            map: initialMap,\r\n            renderMode: 'vector',\r\n            source: precintvectorLayer.getSource(),\r\n            style: function (feature) {\r\n                if (feature.get('gid') === selection) {\r\n                    return selectedCountry;\r\n                }\r\n            },\r\n        });\r\n\r\n        initialMap.on(['click'], function (event) {\r\n            precintvectorLayer.getFeatures(event.pixel).then(function (features) {\r\n                if (!features.length) {\r\n                    selection = {};\r\n                    return;\r\n                }\r\n                const feature = features[0];\r\n                if (!feature) {\r\n                    return;\r\n                }\r\n                if ('singleselect' === 0) {\r\n                    selection = {};\r\n                }\r\n                selection = feature.get('gid');\r\n                selectionLayer.changed();\r\n            });\r\n        });\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    // Plan Details\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        planService.getById(plandId).then((res) => {\r\n            const data = res.data.plan;\r\n            SetPlans(data)\r\n        });\r\n\r\n        precinctService.getByPlanId(plandId).then((res) => {\r\n            const data = res.data;\r\n\r\n            let totalArea = 0;\r\n            for (var i = 0, len = data.length; i < len; i++) {\r\n                var dataArray = parseInt(data[i].area);\r\n                totalArea += dataArray\r\n            }\r\n            let chart = [];\r\n            for (var y = 0, len2 = data.length; y < len2; y++) {\r\n                var dataChart = { y: (((parseInt(data[y].area) / totalArea) * 100).toFixed(4)), label: data[y].precinct }\r\n                chart.push(dataChart)\r\n            }\r\n            setChartData(chart)\r\n        })\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (lon && lat) {\r\n            map.getView().setCenter(olProj.fromLonLat([lon, lat]));\r\n            map.getView().setZoom(16)\r\n            map.on('singleclick', function (event) {\r\n                map.forEachFeatureAtPixel(\r\n                    event.pixel,\r\n                    function (feature) {\r\n                        if (feature.get('layer') === \"precincts\") {\r\n                            if (feature.get('plan_id') === parseInt(plandId)) {\r\n                                setViewPlanIsOpen(true)\r\n                                const name = feature.get('precinct');\r\n                                setPrecinct(name)\r\n                                const description = feature.get('details');\r\n                                setPDescription(description)\r\n                                const area = feature.get('area').toFixed(2);\r\n                                setPArea(area)\r\n                            }\r\n\r\n\r\n                        }\r\n                    },\r\n                    {\r\n                        hitTolerance: 0,\r\n                    }\r\n                );\r\n            });\r\n        }\r\n\r\n    })\r\n\r\n\r\n    const options = {\r\n        theme: \"light2\",\r\n        height: 230,\r\n        data: [{\r\n            type: \"pie\",\r\n            indexLabel: `{label}`,\r\n            fontFamily: 'sans-serif',\r\n            dataPoints: chartData\r\n        }]\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex font-serif flex-col md:h-screen overflow-hidden\">\r\n            <div class=\"bg-gray-200 w-full flex justify-center\">\r\n                <a href={`/dashboard/precinet/${plan.id}`} class=\"flex flex-col items-center py-5 px-2 text-gray-700 hover:text-gray-900\">\r\n                    <span class=\"font-bold  text-2xl\">{plan.plan_name}</span>\r\n                </a>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-400 p-2 h-full w-full flex md:flex-row flex-col overflow-hidden\">\r\n\r\n                {/* <div className=\"bg-white m-4 md:w-2/6 rounded-lg overflow-hidden\">\r\n                    Activities\r\n                </div> */}\r\n                <div className=\"bg-white m-4 md:w-3/4  rounded-lg overflow-hidden rounded-lg\">\r\n                    <div className=\"flex flex-col md:flex-row h-full w-full justify-center overflow-hidden\">\r\n                        <div ref={mapRef} className=\"w-full md:h-full h-96\"> </div>\r\n                        <Modal\r\n                            isOpen={modalViewPlanIsOpen}\r\n                            onRequestClose={closeViewPlanModal}\r\n                            style={customStyles}\r\n                        >\r\n                            <div className=\"flex justify-around items-center\">\r\n                                <div className=\"w-72 md:w-96 h-96\">\r\n\r\n                                    <div class=\"md:m-3\">\r\n                                        <h2 className=\"text-lg mb-2\">Precinct DCR\r\n                                            <span className=\"text-xs  text-red-800 font-serif  inline bg-gray-400 rounded-full px-2 py-1 float-right\"><button onClick={closeViewPlanModal}>\r\n                                                X\r\n                                            </button></span></h2>\r\n                                    </div>\r\n                                    <div className=\"w-full font-light font-serif text-sm text-gray-700 hover:text-gray-900 transition-all duration-200\">\r\n\r\n                                        <div className=\"space-y-5 mt-6\">\r\n                                            <h2 className=\"text-lg text-center underline\"> {precinct} </h2>\r\n                                        </div>\r\n                                        <div className=\"space-y-5 mt-6\">\r\n                                            <p className=\"p-1\"><strong className='underline'>Characterstics:</strong>  {description} </p>\r\n                                        </div>\r\n                                        <div className=\"space-y-5 mt-6\">\r\n                                            <p className=\"p-1\"><strong className='underline'>Area:</strong>  {area}  Acres </p>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Modal>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white flex flex-col m-4 md:w-1/4  rounded-lg overflow-hidden\">\r\n                    <h4 className=\"font-semibold text-lg text-center mb-4\">Plan Details</h4>\r\n                        <div className=\"flex h-auto mb-5 w-full overflow-y-auto\">\r\n                            <div className='p-4 text-gray-600'>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500  w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Category :</strong> {plan.category}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Type :</strong> {plan.type}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Prepared On :</strong> {plan.preparation_date}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Approved On :</strong> {plan.approved_date}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Area (Acres) :</strong> {plan.area}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Base Population :</strong> {plan.base_population}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Projected Population :</strong> {plan.projected_population}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"space-y-5 mt-6\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div\r\n                                                className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <span className=\"font-light\"><strong >Period :</strong> {plan.period_from} - {plan.period_till}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex h-auto w-full justify-center items-center mb-5\">\r\n                            <div className=\"h-52 w-full overflow-hidden\">\r\n                                <CanvasJSChart options={options} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col justify-center my-6\">\r\n                            <h4 className=\"font-semibold text-lg text-center mb-4\"> Download and View</h4>\r\n                            <div className=\"flex justify-around gap-6 items-center mb-4\">\r\n                                <a\r\n                                    href={`http://localhost:5000/api/${plan.data_url}`}\r\n                                    className=\"bg-gray-700  w-30 text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                                >\r\n                                    <span>Data</span>\r\n\r\n                                    <div className=\"w-4 h-4\">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            viewBox=\"0 0 20 20\"\r\n                                            fill=\"currentColor\"\r\n                                        >\r\n                                            <path\r\n\r\n                                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                            />\r\n                                        </svg>\r\n                                    </div>\r\n                                </a>\r\n                                <a\r\n                                    href={`http://localhost:5000/api/${plan.report_url}`}\r\n                                    className=\"bg-gray-700  duration-300 w-30 text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                                >\r\n                                    <span>Report</span>\r\n\r\n                                    <div className=\"w-4 h-4\">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            viewBox=\"0 0 20 20\"\r\n                                            fill=\"currentColor\"\r\n                                        >\r\n                                            <path\r\n\r\n                                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                            />\r\n                                        </svg>\r\n                                    </div>\r\n                                </a>\r\n                                <a\r\n                                    href={`/plots/${plan.id}/${plot_gid}`}\r\n                                    className=\"bg-gray-700  duration-300 w-30 text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                                >\r\n                                    <span>Plot DCR</span>\r\n\r\n                                    <div className=\"w-4 h-4 \">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            viewBox=\"0 0 20 20\"\r\n                                            fill=\"currentColor\"\r\n                                        >\r\n                                            <path\r\n\r\n                                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                            />\r\n                                        </svg>\r\n                                    </div>\r\n                                </a>\r\n\r\n                            </div>\r\n                        </div>\r\n                        \r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from 'react-router-dom';\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport VectorTileLayer from \"ol/layer/VectorTile\";\r\nimport MVT from 'ol/format/MVT';\r\nimport XYZSource from 'ol/source/XYZ'\r\nimport VectorTileSource from 'ol/source/VectorTile';\r\nimport { Fill, Icon, Stroke, Style, Text } from 'ol/style';\r\nimport * as olProj from 'ol/proj';\r\nimport Modal from 'react-modal';\r\nimport 'ol/ol.css';\r\nimport { defaults as defaultControls, ScaleLine, Control } from 'ol/control';\r\nimport { Group as LayerGroup } from 'ol/layer';\r\nimport { DragPan, MouseWheelZoom, defaults } from 'ol/interaction';\r\nimport { platformModifierKeyOnly } from 'ol/events/condition';\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport plotService from \"../../../services/plan/plot.service\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport { circular } from \"ol/geom/Polygon\";\r\nimport Feature from \"ol/Feature\";\r\nimport Point from \"ol/geom/Point\";\r\nimport { toast } from \"react-toastify\";\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: 'auto',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n};\r\n\r\n\r\n\r\nconst Home = () => {\r\n  const mapRef = useRef();\r\n  const [map, setMap] = useState(\"\");\r\n  const [lon, setX] = useState(\"\");\r\n  const [lat, setY] = useState(\"\");\r\n  const [lon1, setX1] = useState(\"\");\r\n  const [lat1, setY1] = useState(\"\");\r\n  const params = useParams();\r\n  const planId = params.plan_id;\r\n  const [plot_gid, setPlotGid] = useState(params.plot_gid);\r\n\r\n  const [plotId, setPlot] = useState(\"\");\r\n\r\n  // Plot View\r\n\r\n  const [max_height, setMaxHeight] = useState(\"\");\r\n  const [plot_id, setPlotId] = useState(\"\");\r\n  const [setback, setSetBack] = useState(\"\");\r\n  const [use, setUse] = useState(\"\");\r\n  const [precinct, setPrecinct] = useState(\"\"); useState(\"\");\r\n  const [coverage, setCoverage] = useState(\"\");\r\n  const [area, setPArea] = useState(\"\")\r\n  const [modalViewPlanIsOpen, setViewPlanIsOpen] = React.useState(false);\r\n\r\n  function closeViewPlanModal() {\r\n    setViewPlanIsOpen(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    let selection = {};\r\n    const planboundaryvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/plan-boundary/{z}/{x}/{y}.pbf`,\r\n        tileSize: 3072\r\n\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get('plan_id') === parseInt(planId)) {\r\n          const x = feature.get('x');\r\n          const y = feature.get('y');\r\n          setX(x)\r\n          setY(y)\r\n        }\r\n        if (feature.get(\"plan_id\") === parseInt(planId)) {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"red\",\r\n              width: 2\r\n            }),\r\n            text: new Text({\r\n              text: feature.get('plan'),\r\n            })\r\n\r\n          });\r\n        } else {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            })\r\n\r\n          });\r\n\r\n        }\r\n\r\n\r\n      }\r\n    });\r\n    const plotvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/plots/{z}/{x}/{y}.pbf`,\r\n        tileSize: 3072,\r\n\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get('gid') === parseInt(plot_gid)) {\r\n          const x = feature.get('x');\r\n          const y = feature.get('y');\r\n          setX1(x)\r\n          setY1(y)\r\n        }\r\n        if (feature.get(\"plan_id\") === parseInt(planId)) {\r\n          if (feature.get(\"gid\") === parseInt(plot_gid)) {\r\n            return new Style({\r\n              fill: new Fill({\r\n                color: 'red'\r\n              }),\r\n              stroke: new Stroke({\r\n                color: \"black\",\r\n                width: 2\r\n              }),\r\n              text: new Text({\r\n                text: feature.get('plot_id'),\r\n                placement: 'point',\r\n                textBaseline: 'middle',\r\n                font: 'bold 10px sans-serif'\r\n              })\r\n\r\n            });\r\n          } else {\r\n            return new Style({\r\n              fill: new Fill({\r\n                color: feature.get(\"color\")\r\n              }),\r\n              stroke: new Stroke({\r\n                color: 'black',\r\n                width: 1\r\n              }),\r\n              text: new Text({\r\n                text: feature.get('plot_id'),\r\n                placement: 'point',\r\n                textBaseline: 'middle',\r\n              })\r\n\r\n            });\r\n          }\r\n        } else {\r\n\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            }),\r\n\r\n          });\r\n\r\n        }\r\n\r\n\r\n      }\r\n    });\r\n    const roadvectorLayer = new VectorTileLayer({\r\n      source: new VectorTileSource({\r\n        format: new MVT(),\r\n        url: `http://localhost:5000/api/roads/{z}/{x}/{y}.pbf`,\r\n        tileSize: 3072,\r\n\r\n      }),\r\n      style: function simpleStyle(feature) {\r\n        if (feature.get(\"plan_id\") === parseInt(planId)) {\r\n          return new Style({\r\n            stroke: new Stroke({\r\n              color: \"#ADACAC\",\r\n              width: 4\r\n            }),\r\n            text: new Text({\r\n              text: feature.get('name'),\r\n              placement: 'line',\r\n              textBaseline: 'middle',\r\n              font: 'bold 10px sans-serif'\r\n            })\r\n\r\n          });\r\n        } else {\r\n          return new Style({\r\n            fill: new Fill({\r\n              color: 'transparent'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: \"transparent\"\r\n            })\r\n\r\n          });\r\n        }\r\n      }\r\n\r\n\r\n    });\r\n\r\n    const initialMap = new Map({\r\n      target: mapRef.current,\r\n      interactions: defaults({ dragPan: false, mouseWheelZoom: true }).extend([\r\n        new DragPan({\r\n          condition: function (event) {\r\n            return this.getPointerCount() === 1 || platformModifierKeyOnly(event);\r\n          },\r\n        }),\r\n        new MouseWheelZoom({\r\n          condition: platformModifierKeyOnly,\r\n        }),\r\n      ]),\r\n      layers: [\r\n        new TileLayer({\r\n          source: new XYZSource({\r\n            url: 'https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',\r\n            projection: 'EPSG:3857',\r\n          })\r\n        }),\r\n        new LayerGroup({\r\n          layers: [planboundaryvectorLayer]\r\n        }),\r\n\r\n        new LayerGroup({\r\n          layers: [plotvectorLayer]\r\n        }),\r\n        new LayerGroup({\r\n          layers: [roadvectorLayer]\r\n        }),\r\n      ],\r\n      controls: defaultControls().extend([new ScaleLine()]),\r\n      view: new View({\r\n        zoom: 9,\r\n        center: olProj.fromLonLat([90.8, 27.41]),\r\n        minZoom: 4,\r\n        maxZoom: 28\r\n      }),\r\n\r\n    })\r\n    setMap(initialMap)\r\n\r\n    const selectedCountry = new Style({\r\n      stroke: new Stroke({\r\n        color: 'rgba(200,20,20,0.8)',\r\n        width: 2,\r\n      }),\r\n      fill: new Fill({\r\n        color: 'rgba(200,20,20,0.4)',\r\n      }),\r\n    });\r\n    const selectionLayer = new VectorTileLayer({\r\n      map: initialMap,\r\n      renderMode: 'vector',\r\n      source: plotvectorLayer.getSource(),\r\n      style: function (feature) {\r\n        if (feature.get('gid') === selection) {\r\n          return selectedCountry;\r\n        }\r\n      },\r\n    });\r\n\r\n    initialMap.on(['click'], function (event) {\r\n      plotvectorLayer.getFeatures(event.pixel).then(function (features) {\r\n        if (!features.length) {\r\n          selection = {};\r\n          return;\r\n        }\r\n        const feature = features[0];\r\n        if (!feature) {\r\n          return;\r\n        }\r\n        if ('singleselect' === 0) {\r\n          selection = {};\r\n        }\r\n        selection = feature.get('gid');\r\n        selectionLayer.changed();\r\n      });\r\n    });\r\n\r\n\r\n  }, []);\r\n  useEffect(() => {\r\n    if (lon && lat) {\r\n      map.getView().setCenter(olProj.fromLonLat([lon, lat]));\r\n      map.getView().setZoom(16);\r\n      if (lat1 && lon1) {\r\n        map.getView().setCenter(olProj.fromLonLat([lon1, lat1]));\r\n        map.getView().setZoom(18)\r\n      }\r\n      map.on('singleclick', function (event) {\r\n        map.forEachFeatureAtPixel(\r\n          event.pixel,\r\n          function (feature) {\r\n            if (feature.get('layer') === \"plots\") {\r\n              if (feature.get('plan_id') === parseInt(planId)) {\r\n                setViewPlanIsOpen(true)\r\n                const gid = feature.get('gid');\r\n                setPlotGid(gid)\r\n                const plot_id = feature.get('plot_id');\r\n                setPlotId(plot_id)\r\n                const max_height = feature.get('max_height');\r\n                setMaxHeight(max_height)\r\n                const precinct = feature.get('precinct');\r\n                setPrecinct(precinct)\r\n                const coverage = feature.get('coverage');\r\n                setCoverage(coverage)\r\n                const setback = feature.get('setback');\r\n                setSetBack(setback)\r\n                const uses = feature.get('use');\r\n                setUse(uses)\r\n                const area = feature.get('area');\r\n                setPArea(area)\r\n              }\r\n            }\r\n          },\r\n          {\r\n            hitTolerance: 0,\r\n          }\r\n        );\r\n      });\r\n      ///Locate Button\r\n      const source = new VectorSource();\r\n      const layer = new VectorLayer({\r\n        source: source,\r\n      });\r\n      map.addLayer(layer);\r\n      const locateButton = document.createElement('div');\r\n      locateButton.className = 'ol-control ol-unselectable relative top-20 p-2 crouser-pointer left-2';\r\n      locateButton.innerHTML = '<button>◎</button>';\r\n      locateButton.addEventListener('click', function () {\r\n        navigator.geolocation.watchPosition(\r\n          function (position) {\r\n            const coords = [position.coords.longitude, position.coords.latitude];\r\n            map.getView().setCenter(olProj.fromLonLat([position.coords.longitude, position.coords.latitude]))\r\n            map.getView().setZoom(18)\r\n            const accuracy = circular(coords, position.coords.accuracy);\r\n            source.clear(true);\r\n            const locationFeature = new Feature({ geometry: new Point(olProj.fromLonLat(coords)) });\r\n            locationFeature.setStyle(new Style({\r\n              image: new Icon({\r\n                color: \"blue\",\r\n                opacity: \"0.5\",\r\n                crossOrigin: \"anonymous\",\r\n                src: 'https://openlayers.org/en/v4.6.5/examples/data/dot.png'\r\n              })\r\n            }))\r\n            const accuracyFeature = new Feature(accuracy.transform('EPSG:4326', map.getView().getProjection()));\r\n            source.addFeature(accuracyFeature);\r\n            source.addFeature(locationFeature);\r\n          },\r\n          function (error) {\r\n            alert(`ERROR: ${error.message} `);\r\n          },\r\n          {\r\n            enableHighAccuracy: true,\r\n          }\r\n        );\r\n      });\r\n      map.addControl(\r\n        new Control({\r\n          element: locateButton\r\n        })\r\n      );\r\n\r\n    }\r\n  })\r\n  const handlePlotId = (e) => {\r\n    setPlot(e.target.value);\r\n  };\r\n\r\n  const submitPlotID = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (plotId !== undefined) {\r\n        plotService.getPlotByPlotId(plotId).then((res) => {\r\n          const plot = res.data;\r\n          if (plot.plan_id === planId) {\r\n            setViewPlanIsOpen(true)\r\n            setPlotId(plot.plot_id);\r\n            setPlotGid(plot.gid);\r\n            setMaxHeight(plot.max_height);\r\n          } else {\r\n            toast.error('Plot ID Not Found')\r\n          }\r\n        });\r\n      } else {\r\n        toast.error('Please Enter Plot-ID');\r\n      }\r\n\r\n    } catch {\r\n      toast.error('Some Error in sending Request');\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex font-serif flex-col h-screen overflow-hidden\">\r\n        <div className=\"bg-gray-200 p-2 h-full w-full justify-center flex flex-col overflow-hidden\">\r\n          <div className=\"bg-white md:m-4 h-3/4 md:h-full rounded-lg overflow-hidden rounded-lg\">\r\n            <div className=\"flex flex-col md:flex-row h-full w-full justify-center overflow-hidden\">\r\n              <div ref={mapRef} className=\"w-full md:h-full h-full\"> </div>\r\n\r\n              <Modal\r\n                isOpen={modalViewPlanIsOpen}\r\n                onRequestClose={closeViewPlanModal}\r\n                style={customStyles}\r\n              >\r\n                <div className=\"flex justify-around items-center\">\r\n                  <div className=\"w-72 md:w-96 h-full\">\r\n                    <div className=\"md:m-3\">\r\n                      <h2 className=\"text-lg mb-2\">Plot DCR\r\n                        <span className=\"text-xs  text-red-800 font-serif  inline bg-gray-400 rounded-full px-2 py-1 float-right\">\r\n                          <button onClick={closeViewPlanModal}>\r\n                            X\r\n                          </button></span></h2>\r\n                    </div>\r\n                    <div className=\"w-full font-light font-serif text-sm text-gray-700 hover:text-gray-900 transition-all duration-200\">\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong> Plot ID:</strong> {plot_id}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong> Maximum Building Height:</strong> {max_height}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Coverage:</strong> {coverage}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Set Back:</strong> {setback}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong> Uses :</strong> {use}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Precinct:</strong> {precinct}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-5 mt-6\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <div className=\"flex items-center\">\r\n                            <div\r\n                              className=\"flex items-center justify-center bg-gray-500 rounded-xl w-2 h-2 mr-4\"\r\n                            >\r\n                            </div>\r\n\r\n                            <div>\r\n                              <span className=\"block\"><strong>Area:</strong> {area} Acres</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex space-y-5 mt-6 justify-center items-center\">\r\n                        <a\r\n                          href={`/dashboard/plots/${planId}/${plot_gid}`}\r\n                          className=\"bg-gray-500 opacity-80 w-42 text-white rounded-full hover:bg-gray-600 px-3 py-2 flex items-center space-x-3\"\r\n                        >\r\n                          <span>Zoom To Plot</span>\r\n\r\n                          <div className=\"w-4 h-4\">\r\n                            <svg\r\n                              xmlns=\"http://www.w3.org/2000/svg\"\r\n                              viewBox=\"0 0 20 20\"\r\n                              fill=\"currentColor\"\r\n                            >\r\n                              <path\r\n\r\n                                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                              />\r\n                            </svg>\r\n                          </div>\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Modal>\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"w-full flex justify-center\">\r\n            <div className=\"flex justify-center w-full my-2\">\r\n              <form onSubmit={submitPlotID} className=\"w-3/4 md:w-1/3 block relative\">\r\n                <div className=\"flex flex-row\">\r\n                  <input type=\"text\" onChange={handlePlotId} value={plotId} className=\"relative min-w-0 block w-3/4 px-5 py-4 text-base font-normal text-gray-800 bg-white bg-clip-padding border border-solid border-white rounded transition ease-in-out mr-2 focus:text-gray-800  focus:bg-gray-200  focus:outline-none\" placeholder=\"Search by Plot-ID...\" />\r\n                  <button type=\"submit\" className=\"px-6 py-3 bg-gray-100 bg-opacity-15 text-gray-800  font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-gray-300 hover:shadow-lg focus:bg-gray-300  focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out flex items-center\">\r\n                    <svg focusable=\"false\" dataprefix=\"fas\" dataicon=\"search\" className=\"w-4 text-gray-700\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                      <path fill=\"currentColor\" d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        \r\n      </div>\r\n      <ToastContainer autoClose={3000}\r\n        position=\"top-center\"\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover />\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport planService from \"../../../services/plan/plan.service\";\r\nimport precinctService from \"../../../services/plan/precinct.service\";\r\nimport { CanvasJSChart } from \"canvasjs-react-charts\"\r\nimport activityService from '../../../services/plan/activity.service';\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\n\r\nconst Dashboard = () => {\r\n    // Plan Details\r\n    const [plan, SetPlans] = useState(\"\");\r\n    const [activities, SetActivity] = useState(\"\");\r\n    const [chartData, setChartData] = useState(\"\");\r\n    /// Map View\r\n    const params = useParams();\r\n    const plandId = params.id;\r\n    const [plot_gid] = useState(\"none\");\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        planService.getById(plandId).then((res) => {\r\n            const data = res.data.plan;\r\n            SetPlans(data)\r\n        });\r\n\r\n\r\n        activityService.getByPlanId(plandId).then((res) => {\r\n            const data = res.data.activities;\r\n            console.log(data)\r\n            SetActivity(data)\r\n        });\r\n\r\n        precinctService.getByPlanId(plandId).then((res) => {\r\n            const data = res.data;\r\n\r\n            let totalArea = 0;\r\n            for (var i = 0, len = data.length; i < len; i++) {\r\n                var dataArray = parseInt(data[i].area);\r\n                totalArea += dataArray\r\n            }\r\n            let chart = [];\r\n            for (var y = 0, len2 = data.length; y < len2; y++) {\r\n                var dataChart = { y: (((parseInt(data[y].area) / totalArea) * 100).toFixed(4)), label: data[y].precinct }\r\n                chart.push(dataChart)\r\n            }\r\n            setChartData(chart)\r\n        })\r\n\r\n    }, []);\r\n\r\n\r\n    const options = {\r\n        theme: \"light2\",\r\n        height: 230,\r\n        data: [{\r\n            type: \"pie\",\r\n            indexLabel: `{label}`,\r\n            fontFamily: 'sans-serif',\r\n            dataPoints: chartData\r\n        }]\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex font-serif flex-col md:h-screen overflow-hidden\">\r\n            <div class=\"bg-gray-200 w-full flex justify-center\">\r\n                <a href={`/dashboard/precinet/${plan.id}`} class=\"flex flex-col items-center py-5 p-4 text-gray-700 hover:text-gray-900\">\r\n                    <span class=\"font-bold  text-2xl\">{plan.plan_name}</span>\r\n                </a>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-400 p-2 h-full w-full flex md:flex-row flex-col overflow-hidden\">\r\n\r\n    \r\n                <div className=\"bg-white m-4 md:w-3/4  rounded-lg overflow-hidden rounded-lg\">\r\n                    <div className=\"flex flex-col  h-full w-full overflow-hidden\">\r\n                        <div className=\"w-full flex justify-between flex-row p-2 border-b-2 border-gray-500\">\r\n                            <h4 className=\"font-semibold  text-2xl text-center \"> Activities</h4>\r\n                           \r\n\r\n                        </div>\r\n                        {activities && (\r\n\r\n\r\n                            < div class=\"flex flex-col md:h-full h-96 overflow-y-auto\">\r\n                                {activities.map((item, index) => {\r\n                                    return (\r\n                                        <div class=\"p-4\" key={index}>\r\n                                            <h1 class=\"text-center text-lg  my-3 lg:mt-4\">{item.phase}</h1>\r\n                                            <p class=\"text-sm mb-4\"><strong>Description :</strong> {item.description}</p>\r\n                                            <p class=\"text-sm mb-2\">  <strong> Estimated Budget: </strong> Nu. {item.estd_budget} millions </p>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white flex flex-col m-4 md:w-2/4  rounded-lg overflow-hidden\">\r\n                    <h4 className=\"font-semibold text-2xl text-center my-3 border-b-2 border-gray-500\">Plan Details</h4>\r\n                    <div className=\"flex h-auto mb-5 w-full overflow-y-auto\">\r\n                        <div className='p-4 text-gray-600'>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500  w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Category :</strong> {plan.category}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Type :</strong> {plan.type}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Prepared On :</strong> {plan.preparation_date}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Approved On :</strong> {plan.approved_date}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Area (Acres) :</strong> {plan.area}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Base Population :</strong> {plan.base_population}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Projected Population :</strong> {plan.projected_population}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"space-y-5 mt-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div\r\n                                            className=\"flex items-center justify-center bg-gray-500 w-2 h-2 mr-4\"\r\n                                        >\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <span className=\"font-light\"><strong >Period :</strong> {plan.period_from} - {plan.period_till}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex h-auto w-full justify-center items-center mb-5\">\r\n                        <div className=\"h-52 w-full overflow-hidden\">\r\n                            <CanvasJSChart options={options} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col justify-center my-6\">\r\n                        <h4 className=\"font-semibold text-lg text-center mb-4\"> Download and View</h4>\r\n                        <div className=\"flex justify-around gap-2 items-center mb-4\">\r\n                            <a\r\n                                href={`http://localhost:5000/api/${plan.data_url}`}\r\n                                className=\"bg-gray-700  text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                            >\r\n                                <span>Data</span>\r\n\r\n                                <div className=\"w-4 h-4\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        viewBox=\"0 0 20 20\"\r\n                                        fill=\"currentColor\"\r\n                                    >\r\n                                        <path\r\n\r\n                                            d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            </a>\r\n                            <a\r\n                                href={`http://localhost:5000/api/${plan.report_url}`}\r\n                                className=\"bg-gray-700  text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                            >\r\n                                <span>Report</span>\r\n\r\n                                <div className=\"w-4 h-4\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        viewBox=\"0 0 20 20\"\r\n                                        fill=\"currentColor\"\r\n                                    >\r\n                                        <path\r\n\r\n                                            d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            </a>\r\n                            <a\r\n                                href={`/dashboard/plots/${plan.id}/${plot_gid}`}\r\n                                className=\"bg-gray-700   text-white rounded-lg hover:bg-gray-900 hover:text-white px-2 py-1 flex items-center\"\r\n                            >\r\n                                <span>Plot DCR</span>\r\n\r\n                                <div className=\"w-4 h-4 \">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        viewBox=\"0 0 20 20\"\r\n                                        fill=\"currentColor\"\r\n                                    >\r\n                                        <path\r\n\r\n                                            d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            </a>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n               \r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route\r\n} from 'react-router-dom';\r\nimport PrecientView from './components/admin/precient/PrecientView';\r\nimport PlanList from './components/admin/plan/Plans';\r\nimport PlotDashoard from './components/admin/plot/PlotView';\r\nimport Dashboard from \"./components/admin/dashboard/Dashboard\"\r\nimport Login from \"./components/auth/Login\"\r\nimport SinglePlan from \"./components/admin/plan/Plan\"\r\n\r\nimport UserDashboard from \"./components/user/dashboard/Dashboard\"\r\nimport UserPrecientView from './components/user/precient/PrecientView';\r\nimport UserPlotDashoard from './components/user/plot/PlotView';\r\nimport UserSinglePlan from \"./components/user/plan/Plan\"\r\n// import useToken from './useToken';\r\n\r\n\r\nconst App = () => {\r\n\r\n  // const { token, setToken } = useToken()\r\n\r\n  // if (!token) {\r\n  //   return <Login setToken={setToken} />\r\n  // }\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Routes>\r\n          <Route exact path='/dashboard' element={< Dashboard />}></Route>\r\n          <Route exact path='/dashboard/precinet/:id' element={< PrecientView />}></Route>\r\n          <Route exact path='//dashboard/plots/:plan_id/:plot_gid' element={< PlotDashoard />}></Route>\r\n          <Route exact path='/dashboard/plans' element={< PlanList />}></Route>\r\n          <Route exact path='/dashboard/plan/:id' element={< SinglePlan />}></Route>\r\n          <Route exact path='/login' element={< Login />}></Route>\r\n          <Route exact path='/' element={< UserDashboard />}></Route>\r\n          <Route exact path='/precinet/:id' element={< UserPrecientView />}></Route>\r\n          <Route exact path='/plots/:plan_id/:plot_gid' element={< UserPlotDashoard />}></Route>\r\n          <Route exact path='/plan/:id' element={< UserSinglePlan />}></Route>\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./index.css\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}